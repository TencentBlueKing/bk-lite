Code Review 审查清单

1. 基本原则
	•	改动范围仅限于解决当前问题的最小集合（无「顺手重构/未来预留」）。
	•	对外接口（输入/输出/错误）保持兼容；如有变更，提供迁移说明与灰度方案。
	•	是否优先复用已有模块/方法，避免重复造轮子。
	•	命名是否清晰、函数是否单一职责、是否具备必要类型注解与简洁 Docstring。
	•	代码中是否存在魔法数或隐式副作用。

⸻

2. 日志与错误处理
	•	关键路径（入口/外部调用/异常）是否有结构化日志。
	•	日志内容是否清晰，有助于问题排查。
	•	日志中是否避免打印敏感信息。
	•	是否存在被吞掉的异常；异常输出是否包含上下文信息。

⸻

3. 配置与依赖
	•	新增依赖是否在 requirements/ 白名单中。
	•	配置是否通过环境变量/集中配置管理。
	•	仓库中是否存在密钥或默认秘钥。

⸻

4. 异步与性能（Sanic 场景）
	•	外部 I/O 是否具备超时和有限重试（指数退避）。
	•	是否存在阻塞事件循环的 CPU 密集型逻辑（若有，应转移至后台任务/队列）。

⸻

5. 安全基线
	•	所有外部输入是否经过校验。
	•	所有输出是否进行了安全编码。
	•	文件/URL/命令操作是否经过白名单或显式校验。

⸻

6. 一票否决项
	•	是否引入了自研框架/抽象层，但没有实际需求支撑。
	•	是否为潜在场景设计了复杂扩展点。
	•	是否存在大面积重构，但缺乏明确收益与回滚方案。

⸻

7. 审查结论
	•	改动是否为渐进式最小集合，无预支未来需求。 ✅/❌

⸻

8. 特殊说明
	•	如发现代码问题过多、难以维护：
	•	是否需要进行重构？（仅限指定文件）
	•	是否检查了周边依赖，而未越界改动其他文件。

* 严禁自作主张的过度设计
