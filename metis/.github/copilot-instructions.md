基本原则
	•	不臆测：缺失信息时先在仓库内搜索，优先复用已有模式。
	•	最小改动：能扩展不分叉，能配置不硬编码。
	•	交付最小可运行增量，避免过度设计。

编码规范
	•	遵循 PEP 8；公共接口/复杂逻辑必须有类型注解。
	•	Docstring 风格与项目保持一致。
	•	命名清晰，避免拼音/模糊缩写。
	•	优先 可读性 > 微优化；尽量早返回、少分支。

日志与错误
	•	使用 from sanic.log import logger。
	•	日志位置：入口、外部调用、异常、状态变更。
	•	禁止输出敏感信息；参数只打概要（掩码/哈希）。
	•	异常不允许被吞：顶层捕获必须打上下文。

依赖与配置
	•	仅允许使用 requirements/ 内的依赖。
	•	新依赖必须在 PR 说明用途与必要性。
	•	配置用 环境变量，提供 .env.example；禁止默认密钥写入仓库。

Sanic 规范
	•	所有外部 I/O 必须 async，设置 超时+取消。
	•	并发需用 asyncio.Semaphore 控制。
	•	请求入口统一用 Pydantic 校验。
	•	响应用 sanic.response.json(...)。
	•	中间件统一注入 request_id、鉴权、审计字段。

性能与安全
	•	外部调用必须有超时和重试（指数退避）。
	•	CPU 密集型任务放后台/队列，禁止阻塞事件循环。
	•	输入校验 + 输出编码，避免注入/遍历。
	•	Secrets 通过环境变量或密钥管理。
	•	鉴权统一中间件，最小权限 + 过期刷新。

⸻

🎯 目标：每次改动必须做到
	•	可读
	•	可测
	•	可回滚
	•	可观测

当不确定时，优先 小步快跑 + 明确边界。
