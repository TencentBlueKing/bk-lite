---
sidebar_position: 1
---

# ITSM用户手册

## 1.工单中心

### 1.1.概述

工单中心集合了用户相关的所有工单，支持创建工单、查询工单、处理工单等，同时还支持自定义工单分组。

工单中心的整体布局设计如下：

![ITSM手册图片1.png](https://static.cwoa.net/9957d40e7fb74961bc16796f76d9d6f3.png)

**A区域：创建工单:**

在工单中心创建工单的入口，点击后可以选择某个流程创建工单。

**B区域：工单分组:**

工单分组列表区域，默认有我的全部、我的待办、我的经办、我的草稿、我的预警、我的挂起几个内置分组列表，同时支持自定义分组，可以根据场景进行分组条件的配置，创建新的工单分组列表。

**C区域：筛选工单:**

工单基础筛选区域，在工单列表的表头下面，支持按照对应的表头字段对工单进行查询。

**D区域：工单列表:**

展示对应工单分组下的全部工单，点击单号可以进入工单详情页，查看工单详细信息或对工单进行处理。

**E区域：工单列表操作:**

支持对工单的一些其他操作，如批量处理、工单导出。

### 1.2.创建工单

工单中心提供了创建工单的入口，与服务目录不同，工单中心的创建工单不是选择的某个服务创建，而是直接选择某个流程进行创建工单。

进入工单中心，点击左上角的创建工单按钮

![ITSM手册图片2.png](https://static.cwoa.net/c264b004235c4f379122920476a16877.png)

打开创建工单的页面，顶部的分类对应的是所属应用，侧边的分类对应的是流程类型，选择某个流程，进入提单页面

![ITSM手册图片3.png](https://static.cwoa.net/bf95721fd4be4e56b76145e2a51b72df.png)

填写表单信息后点击”提交“即可。

同时还提供了保存模板和保存草稿的功能

- 保存模板：将当前所填信息保存为模板，下次使用相同的流程提单时，选择使用模板填写，即可快速填写表单。
- 保存草稿：当前表单内容未填写完成时，可以点击”保存草稿“，将所填内容存到草稿箱，下次可以在”我的草稿“列表中，打开对应工单填写完成后提交

![ITSM手册图片4.png](https://static.cwoa.net/e4960bfc16cb454788eacc05291f586e.png)

注意：请务必在流程发布前到“平台管理/全局配置/流程类型”处进行对应流程类型的工单编号前缀设置，否则会提单失败

![ITSM手册图片5.png](https://static.cwoa.net/05d7268d58e8460795d7729066e3091d.png)

![ITSM手册图片6.png](https://static.cwoa.net/89b4924580df4f24a5ba386f8c745069.png)

### 1.3.工单分组

工单中心的左侧区域对工单进行了分组归类，用户可以快速定位到相应的分组进行工单的查看，除了提供内置的常用分组外，产品还提供了自定义分组的能力，用户可以根据场景进行分组条件的配置，创建新的工单分组列表。

#### 1.3.1.内置分组

产品当前内置的分组有：我的全部、我的待办、我的经办、我的草稿、我的预警、我的挂起

- 我的全部：展示我有查看权限的所有工单。
- 我的待办：展示待我处理的工单， 即当前处理人中包含我的。
- 我的审批：展示所有待我处理的审批节点的工单
- 我的申请：展示所有我发起的工单，即提单人是我的。
- 我的经办：展示所有我处理过的工单。
- 我的关注：展示所有我所关注的工单
- 我的草稿：展示我创建工单时保存为草稿的工单，打开具体的草稿单再次编辑后即可提交。
- 我的预警：展示当前我需要处理的工单中处于SLA计时中，且未超时的工单。
- 我的超时：展示的当前我需要处理的工单中处于SLA计时中，且已超时的工单。
- 我的挂起：展示和我相关的所有工单中，状态为”挂起“的工单。

![ITSM手册图片7.png](https://static.cwoa.net/d32628af161142b0b26141221797683b.png)

#### 1.3.2.自定义分组

提供自定义工单分组的能力，可根据场景进行分组条件的配置，创建新的工单分组列表，自己自定义创建的分组，仅自己可以看到

点击工单分组的设置图标，进入自定义分组管理页面

![ITSM手册图片8.png](https://static.cwoa.net/3331ae2f9f2a4ec484011dd1fcdfe40a.png)

点击工单分组的添加按钮，创建新的分组目录

![ITSM手册图片9.png](https://static.cwoa.net/7dde96648005439780f30d82b0d92150.png)

在对应的分组目录下点击”新增分组“按钮，进行新分组的创建，创建完成后启用分组，即可在工单中心的分组列表中看到所创建的分组

注意：后续在工单导出和列表展示字段配置时，内置的分组只能选择基础字段，如果是自定义的分组，分组范围是单个流程或者单个表单模型的，就可以选择流程中自定义的或模型中定义的字段。

![ITSM手册图片10.png](https://static.cwoa.net/7e53750f94de488ea911a0dd7bfd0fef.png)

### 1.4.工单详情

在工单列表中点击某个要查看的工单单号，即可进入工单详情页查看工单的详细信息。

工单打开后在工单中心上方以页签的形式展现，可以同时打开多个工单切换查看。单击工单的页签上的，可以关闭当前工单详情页面，单击页签栏最右边的关闭，可以关闭当前打开的所有工单

![ITSM手册图片11.png](https://static.cwoa.net/51d407aa77d94c3193b508598312b8fa.png)

工单详情内容包含工单的基本信息、工单表单信息、流程图、流转日志、工单评论、触发器、附件、关联单、SLA，下面进行详细的介绍。

#### 1.4.1.流程图

在工单详情页面点击可以查看工单关联的流程图及当前的流转进度

![ITSM手册图片12.png](https://static.cwoa.net/186df9e7081e44d7adb25b65170e0c8c.png)

![ITSM手册图片13.png](https://static.cwoa.net/47f35dbb05594061ae81eb75cec9c8f9.png)

在流程图中：

- 已经完节点：节点卡片为彩色并且可以看到处理人，节点连接线条为蓝色，如图中提单节点
- 当前进行中节点：节点卡片外有一圈蓝色线框，卡片为彩色并且可以看到处理人，节点连接线条为蓝色，如图中审批节点
- 未到达节点：节点卡片为灰白色，节点连接线条为灰色
- 流程图页面支持流程图的放大、缩小、复位以及全屏展示。

![ITSM手册图片14.png](https://static.cwoa.net/32a33dfa5ffd4eba940fd0afa8c65609.png)

- 流程图页面支持流程图的缩小、放大、复位以及全屏展示。

![ITSM手册图片15.png](https://static.cwoa.net/c9adbd56584943c6a2b7acfcff389e39.png)

- 鼠标悬停流程图中的节点，展示处理人信息（具体展示的信息可在平台管理-基础配置中进行配置），如下图所示：

![ITSM手册图片16.png](https://static.cwoa.net/c448ea69dcd84758ba1f297349d2fe2c.png)

#### 1.4.2.流转日志

在工单详情的右边栏，展示了工单的全部流转日志，可以看到流转时间、节点、操作、操作人以及字段变更信息。

![ITSM手册图片17.png](https://static.cwoa.net/e166109593fb40ddb7b3d48cfb5cfa05.png)

#### 1.4.3.工单评论

在工单详情的右边侧边栏，点击”评论“页签，即可查看、发布或回复评论。工单评论支持粘贴图片、上传文件以及@其他用户，被@的用户还可以收到评论通知。

![ITSM手册图片18.png](https://static.cwoa.net/3595109371df4fb9811e1e2a4ca1c725.png)

#### 1.4.4.触发器

在工单详情的右边侧边栏，点击”触发器“页签，即可看到该工单绑定的相关触发器的执行记录和详细信息，包括执行时间、状态、执行日志

- 触发器列表

![ITSM手册图片19.png](https://static.cwoa.net/58591c188a9246f7b7486282cc91e145.png)

- 执行详情

![ITSM手册图片20.png](https://static.cwoa.net/16be7618f3344b8b9c0dfeec4b4e3efa.png)

#### 1.4.5.附件

在工单详情的右边侧边栏，点击”附件“页签，即可看到该工单相关的所有附件，包括评论中的附件和表单附件类型字段中上传的附件，都会统一展示在这里。

注：评论或表单字段中的附件被删除后，附件列表中的会同步删除

![ITSM手册图片21.png](https://static.cwoa.net/5039b1b65bbe4953800e907ad1449312.png)

#### 1.4.6.关联单

在工单详情的右边侧边栏，点击”关联单“页签，即可看到该工单相关的关联单据。

关联单据分两类，一类是在关联单列表中直接点击添加的关联单，另一类是通过流程中配置的关联单按钮创建的关联单（如事件转问题，详见流程设计模块文档）。

![ITSM手册图片22.png](https://static.cwoa.net/518e99c257c54d4c895b3a62569c466b.png)

#### 1.4.7.关注人

工单关注人用于展示所有关注了该工单的用户。

![ITSM手册图片23.png](https://static.cwoa.net/c7e6fe9c661b4f5aa931d4c1e886db9b.png)

工单关注人分两种场景：

1.在工单处理过程中，希望可以设置重点关注的用户，以便他们能同步了解工单的进展。

这种情况下具备工单查看权限的用户可以添加其他用户作为工单关注人， 添加之后就会自动授予关注人工单查看的权限。

添加工单关注人之后可以填写通知信息，工单关注人可以收到该通知（前提是需要手动去通知管理模块配置并启用工单关注通知）

![ITSM手册图片24.png](https://static.cwoa.net/6d8cc4d7ec2c4b819c81b82af5e6316d.png)

2.希望可以主动关注某工单，并且能可以查看关注的工单列表，以便于查看跟进。

这种场景下点击工单标题旁边的关注工单图标即可关注当前工单

![ITSM手册图片25.png](https://static.cwoa.net/71dd9e1117f44f52876a5ea81f5bfdc7.png)

所有关注的工单可以在“我的关注”这个工单列表中查看

![ITSM手册图片26.png](https://static.cwoa.net/d7200f9e16b24ea3a05402f2d114baa7.png)

#### 1.4.8.SLA

当工单有计时中的SLA任务时，会在工单详情页标题下方展示计时中的SLA的截止时间和剩余时间信息。

![ITSM手册图片27.png](https://static.cwoa.net/b5a868646eeb47c29d06d6351a94cf7a.png)

点击工单右侧栏中的“SLA“可以查看到当前工单所有的SLA计时记录，点击页面上的“查看详情”按钮可以查看到更详细的SLA信息。

![ITSM手册图片28.png](https://static.cwoa.net/5a70706c45c34352948474f2f24663b3.png)

![ITSM手册图片29.png](https://static.cwoa.net/e237ffd91416404ea4f5e50fc0d64860.png)

### 1.5.处理工单

#### 1.5.1.处理操作说明

点击单号进入工单详情页之后，工单右上角有当前工单支持的所有操作按钮，可根据实际情况对工单进行相应的操作

![ITSM手册图片30.png](https://static.cwoa.net/bd00f79de87a4984a5f00df33ccf763a.png)

各操作说明如下：

1、手动节点：提交、更新、保存、认领、转单、退回

2、审批节点：同意、拒绝、更新、保存、转单、加签、退回

3、自动节点：重试、手动执行

4、其他操作：撤回、挂起/恢复、关闭、终止、重新打开、自定义按钮（关联单）

|     |     |
| --- | --- |
| **操作** | **操作说明** |
|提交|提交当前表单信息（手动节点才有），点击后流程继续流转。当表单信息确认填写完成后，可以进行提交，让流程继续往下流转。|
|更新|更新当前表单信息，和提交不同，点击后只是更新表单信息，流程不会继续往下流转。并且更新不会校验必填项。当工单处理人只是填写了部分信息，想要更新给用户看，但暂不需要提交至下一节点时，可以点击更新|
|保存|保存当前任务中填写的内容，下次进来继续填写。保存的内容并不会被正式更新，有处理权限的用户才可见。|
|认领|当工单被分派到某一范围内的用户时，用户可以主动认领当前任务。对于启用了认领功能的节点， 要认领后才可以进行处理|
|转单|当工单处理人无法亲自处理工单时，可以将工单转派给他人处理|
|退回|工单当前节点的处理人对工单历史节点的处理情况有异议时，可将工单回退给历史节点处理人进行处理。|
|审批|审批节点的审批按钮有“同意”和“拒绝”，点击同意和拒绝都会提交当前表单信息，提交后流程继续往下流转|
|加签|为当前审批节点添加审批人（审批节点才有）。当前审批任务需要其他成员审批时，可以进行加签操作，加签支持前加签和后加签。前加签：被加签人审批后，我才可以审批。后加签：我审批之后，被加签人才可以审批|
|重试/手动执行|当自动节点的自动任务执行失败时，可以点击重试或手动执行。重试：再次触发自动任务的执行。手动执行：自动执行始终无法成功时，可以使用手动执行，自行填写输出参数后提交|
|撤回|工单流程中上一个历史节点的处理人需要重新处理历史节点工单时，可以进行撤回。可撤回的前提是下一节点还未处理，若下一节点已经处理，就不可以进行撤回。|
|挂起/恢复|挂起：当工单暂时不需要处理工单时，可将选择挂起工单。恢复：挂起的工单需要继续处理时，可以点击恢复工单|
|关闭|若工单内容已经被提前解决，不需要按照既定流程继续跑完时，可提前关闭工单。关闭工单后，工单则结束，工单状态为“已完成”，不再继续往下走。|
|终止|若工单内容由于某些原因不需要完成，可以进行终止。终止工单后，工单则结束，工单状态为“终止”，不再继续往下走。|
|重新打开|工单流转到结束状态后，因为某些原因需要重新流转，可以进行重新打开。重新打开后工单从提单节点之后重新开始流转。|
|催办|当觉得处理进度不达预期时，可以点击催办，催促处理人，点击后处理人会收到工单催办通知。|
|自定义按钮（关联单）|通常用于事件转问题，事件转变更等场景，需要将当前事件单据转建为问题单，希望自动填入事件单中的相关信息，就可以在流程自定义按钮下配置关联单的按钮。|

#### 1.5.2.批量处理

在我的待办列表中，点击右上角批量处理的按钮，可以对工单进行批量处理

![ITSM手册图片31.png](https://static.cwoa.net/cc60b8d462754f519620cc486ec78205.png)

选择要批量处理的工单，点击确认

![ITSM手册图片32.png](https://static.cwoa.net/791a08b22c774c0e84c0fc782609e06b.png)

系统会按照流程版本和当前节点对工单进行分批（只有处于同一流程版本同一节点的工单才可以批量处理），选择对应的批次点击批量处理

![ITSM手册图片33.png](https://static.cwoa.net/534518539c44441e9d404e5b8dcf1dcf.png)

工单详情内容按照第一个勾选的工单内容展示，处理之后所填值会自动同步至所选的其他工单

![ITSM手册图片34.png](https://static.cwoa.net/fb94d8a54d0448329724a91ac962b9cf.png)

#### 1.5.3.快速审批

“我的审批”工单分组中包含了所有当前用户的处于审批节点的待办，在列表上可以直接点击“同意”或“拒绝”按钮进行快速审批

![ITSM手册图片35.png](https://static.cwoa.net/429279cd40004ad393bf1e3eb0686f26.png)

点击后填写审批意见提交即可

![ITSM手册图片36.png](https://static.cwoa.net/05eab368c14c40279a8bcbda9ab13352.png)

同时也可以进行批量审批，操作同上面批量审批功能

![ITSM手册图片37.png](https://static.cwoa.net/5f2176d4859f4319a4306e7e2d603ece.png)

### 1.6.工单其他操作

#### 1.6.1.查询工单

工单查询支持基础查询和高级查询两种方式

![ITSM手册图片38.png](https://static.cwoa.net/602ddd5f6bce40bcab1f2471f12ff7a1.png)

##### 1.6.1.1基础查询

用户在工单列表中，点击“基础查询”，可以对工单进行基础查询，若查询的条件不在列表中，可以通过配置列表字段让其展示

![ITSM手册图片39.png](https://static.cwoa.net/022e4f9a714849cbacac47ed68e71f15.png)

##### 1.6.1.2.高级查询

用户在工单列表中，点击“高级查询”，可以对工单进行高级查询，支持组合条件的查询。

- 筛选范围不限时：查询条件只能选择系统字段
- 筛选范围是单个流程或者单个表单模型的，就可以选择流程中自定义的或模型中定义的字段进行查询

![ITSM手册图片40.png](https://static.cwoa.net/a58bc682b58b4b6b87ce415c4a8181a7.png)

##### 1.6.1.3.保存查询条件

对于一些经常使用的查询条件，可以保存下来方便下次进行快捷筛选，提高工单查询的效率。

![ITSM手册图片41.png](https://static.cwoa.net/9aff03c63ed3432c9bfb6920ec08a31b.png)

在工单列表的左上角，可以选择已保存的筛选条件进行快速查询。

![ITSM手册图片42.png](https://static.cwoa.net/3763fb42d1cb4bb89fa5bb5ef60b8b7e.png)

#### 1.6.2.自定义列表展示字段

如果需要查看的字段没有在工单列表中展示出来，可以通过点击列表右边的按钮来自定义配置展示的字段，还可以拖拽已选字段前的图标，对字段进行排序。

![ITSM手册图片43.png](https://static.cwoa.net/db0d09b2e0984b5cb2cb89a63cc0a9f4.png)

内置的分组只能选择基础字段，如果是自定义的分组，分组范围是单个流程或者单个表单模型的，就可以选择流程中自定义的或模型中定义的字段

![ITSM手册图片44.png](https://static.cwoa.net/cb9e8e8514184a849b96c7a9cd7efc7d.png)

![ITSM手册图片45.png](https://static.cwoa.net/fc5671695de6439dbbe46a94a8652dbb.png)

![ITSM手册图片46.png](https://static.cwoa.net/75f4ff261e5548f9944c0d292da5f3da.png)

![ITSM手册图片47.png](https://static.cwoa.net/1dd4cc9111c34cd78237daab8ff6eaf2.png)

#### 1.6.3.工单导出

工单导出是指把工单数据导出为Excel，支持导出系统字段和表单中的字段。内置的分组只能选择基础字段，如果是自定义的分组，分组范围是单个流程或者单个表单模型的，就可以选择流程中自定义的或模型中定义的字段。详细请参考上一节“自定义列表展示字段”的说明。

在列表右上角点击“导出”按钮

![ITSM手册图片48.png](https://static.cwoa.net/63360a0359dc4fe5b45670146f7fb5e6.png)

选择要导出的工单，点击确认

![ITSM手册图片49.png](https://static.cwoa.net/d1a4efc69efe4decad47d174e112131d.png)

选择要导出的字段，同时可以在右侧拖拽字段进行排序，确认后导出即可

![ITSM手册图片50.png](https://static.cwoa.net/e38d44a0d814468f889e67315b33a42a.png)

#### 1.6.4.工单标签

工单标签是指对工单打上标签进行归类，以便于后续工单的查询统计

在工单详情标题旁边，对工单进行标签的添加。所有具备工单查看权限的用户都可以对工单添加标签，添加的标签是所有人都可以看到的，不做用户隔离。

![ITSM手册图片51.png](https://static.cwoa.net/52328fc42bbf4f85b79ecd08a3090190.png)

新增标签

![ITSM手册图片52.png](https://static.cwoa.net/36b7d5eceeba4fe18a0f180748a5d96c.png)

![ITSM手册图片53.png](https://static.cwoa.net/88bd4100c69742199f4947151b3f8cb6.png)

标签查询：添加了标签的工单，可以在工单列表通过标签进行查询

![ITSM手册图片54.png](https://static.cwoa.net/fee22355fdc74c768a8293e62bd7b0eb.png)

## 2.平台管理

### 2.1.表单管理

#### 2.1.1.表单模型

##### 2.1.1.1.概述

表单模型是流程设计中非常重要的一步，是后续所有步骤的基础，定义一个清晰的表单模型，不仅能提升流程配置的效率，减少各个功能配置的重复性工作，还有助于后期的相关数据统计，只有结构正确，才能保证复用性和扩展性。

表单模型是具体业务场景的一个基础表，在设计流程之前，可以创建一个表单模型，把某一类业务的通用字段配置在这个表单模型中，后续创建流程的时候，只需要选择这个模型，即可使用模型中已经创建好的字段，不需要再重复创建字段。

另外后续很多功能的配置，可能都依赖于这个业务模型中的字段，如SLA的配置需要基于表单模型中的字段作为条件。

##### 2.1.1.2.配置表单模型

**配置步骤:**

1、在表单模型列表页，点击右上角新增按钮，进入表单模型配置页面

![ITSM手册图片55.png](https://static.cwoa.net/e879d20f35444a268a3cb9edd6090134.png)

2、在表单模型配置页面，填写表单模型名称和描述，然后点击新增字段，进行表单模型的字段配置，配置完成进行保存即可

![ITSM手册图片56.png](https://static.cwoa.net/ce1d196ab6754f50a04f10e4517952ac.png)

### 2.2.流程管理

流程管理员可以在流程管理模块对流程进行统一定义和管理。该模块提供了可视化的表单和流程设计引擎，非技术人员也可以基于业务逻辑轻松拖拽设计出业务表单和流程，同时可通过触发器模块实现更高阶的自动化场景，另外也可以通过状态管理模块自定义工单状态的流转逻辑。

流程管理中包括流程设计、触发器、状态管理模块：

- 流程设计：通过该模块进行流程的表单设计、流程流转设计以及流程的其他配置。
- 触发器：触发器模块相当于流程的一个自动化工具，它能够在工单的生命周期中发生特定事件时自动触发执行预定义的动作。
- 状态管理：状态管理模块提供了内置的基础状态，同时也提供了灵活的自定义能力，支持根据具体的业务场景定义工单状态的流转逻辑。

![ITSM手册图片57.png](https://static.cwoa.net/99a8c2232293414b9f4c8bb30e972611.png)

#### 2.2.1.流程设计

##### 2.2.1.1.概述

流程设计模块提供了可视化的表单和流程设计引擎，非技术人员也可以基于业务逻辑轻松拖拽设计出业务表单和流程。

在流程设计列表页面，点击右上角的“新增”按钮，填写流程基础信息后，即可进入一个具体的流程设计页面。流程类型和表单模型设置后不可以修改，请注意配置正确。

![ITSM手册图片58.png](https://static.cwoa.net/0b7ca28115d54a399b037cdb9808b42f.png)

一个具体的流程设计通常包括表单设计、流程定义、流程其他配置三个步骤，下面进行详细讲述。

##### 2.2.1.2.表单设计

表单设计是一个具体流程设计的第一步，可以用表单设计器，将流程整体的业务表单先规划设计好，再进行下一步的流程设计。

###### 2.2.1.2.1.表单设计器概述

创建流程时填写完流程基础信息后，就进入表单设计页面，表单设计器的具体设计布局如下：

- 字段库：字段库提供了供表单设计所需要的各种类型的字段，当新建流程时选择了表单模型，还可以在场景字段中直接看到表单模型中已存在的字段，直接拖入即可编排使用。
- 画布区：画布区用来拖拽编排表单中字段的布局，使其满足业务场景的需要。将左侧字段库中的字段拖入中间画布区，即可进行编排。
- 字段配置：选中画布中某个具体的字段，在右侧字段配置区可以看到该字段支持的属性配置。可以对字段进行名称、提示文字、描述信息、默认值等相关属性的配置。
- 工具栏：表单设计器的工具栏，可以进行撤销、重做操作。

![ITSM手册图片59.png](https://static.cwoa.net/75f6537fb9fa4a0290df922c279c628b.png)

表单设计的一般步骤为：

1. 添加表单字段
2. 调整表单布局
3. 设置字段属性
4. 进行UI联动规则配置（可选）
5. 进行数据联动规则配置（可选）
6. 表单样式设置（可选）
7. 预览表单进行确认
8. 保存并进行下一步流程设计

###### 2.2.1.2.2.表单字段说明

当前字段库中的字段如下：

1.**字段类型**

即提供表单设计中会用到的原始字段类型，包括：

- 基础字段：单行文本、多行文本、数值、单选框、复选框、单选下拉、多选下拉、单选级联、多选级联、日期、日期时间、时间范围、富文本、单选人员、多选人员
- 高级字段：分组、子表单、任务、标签页、附件、单选用户组、多选用户组、单选CMDB字段、多选CMDB字段、计算字段
- 自定义字段：当所提供的字段类型不满足需求时，还支持通过扩展开发框架扩展的其他字段类型

2.**场景字段**

和具体业务场景相关的字段，包括

- 内置场景字段：标题（标题字段默认就在表单上展示，并且不支持删除）
- 表单模型字段：创建流程时所选择的表单模型中包含的字段。如事件管理表单模型中的事件分类、事件发生时间等

将左侧字段库的样式拖入即可添加到中间的画布区，选中画布中某个具体的字段，在右侧字段配置区可以看到该字段支持的属性配置。可以对字段进行名称、提示文字、描述信息、默认值等相关属性的配置。

![ITSM手册图片60.png](https://static.cwoa.net/ca2b3e59889648a494c49ddd64a9a4e9.png)

###### 2.2.1.2.3.特殊字段使用说明

1.**任务字段**

**场景：**用于实现在流程过程中创建任务待办的场景，如故障处理任务，问题调查任务

**字段配置:**

1.在表单中拖出任务字段，字段内置有任务名称、处理人、状态三个字段，如果需要添加其他字段，可以从左侧字段库中拓展插入

任务字段除了其他基础配置，还有三个特殊的配置项需要配置：

- 任务处理人字段：绑定处理人字段，可选字段类型为人员类型和用户组类型，如果内置的处理人字段类型不满足业务场景，可以添加其他处理人字段
- 进入待办状态：设置任务处于什么状态的时候，进入处理人的待办队列
- 消除待办状态：设置任务处于什么状态的时候，消除任务待办

![ITSM手册图片61.png](https://static.cwoa.net/30373e379d9f47619cc2ba1640cae346.png)

2.在流程节点中，可以配置各个节点中任务字段中的每个字段状态，也可以勾选该节点是否支持相关操作：

- 创建任务：勾选后：支持创建新任务；
- 批量导入：勾选后，支持通过Excel批量导入任务；
- 编辑已有任务：勾选后，支持编辑当前任务中的信息；
- 删除已有任务：勾选后，已经存在的任务可以删除；
- 任务处理完成当前节点才允许提交：勾选后，必须该任务字段中的所有任务都处理完成（即非待办的状态）才可以提交当前节点继续往下流转。

![ITSM手册图片62.png](https://static.cwoa.net/4f9f2e6136f44942add08438c5e3ebe1.png)

**使用任务字段:**

1.创建任务

在任务字段左上角点击“创建任务”按钮，即可创建任务，创建完需要点击节点的提交按钮，任务才算创建成功。

![ITSM手册图片63.png](https://static.cwoa.net/f640d33b8fda4d3392e44a82b5226d2f.png)

2.处理任务

——任务处理人视图

任务处理人可以看到工单，但是只能处理自己的任务，不能修改工单中的其他信息

——节点处理人视图

节点处理人可以看到所有的任务列表，可以直接在列表上进行任务信息的编辑

![ITSM手册图片64.png](https://static.cwoa.net/6dec3241855d4533bd1ec7e4bf486542.png)

###### 2.2.1.2.4.UI规则联动设置

UI规则联动是指通过设置字段的匹配条件（等于、不等于、包含、不包含等），来触发其他字段状态属性的变化（隐藏、可编辑、只读、必填），从而实现表单字段的动态联动。如：需要配置当“事件是否解决”=“否”时，“未解决原因”为必填，即可使用该功能进行配置。

在表单设计页面点击画布右上角的“表单设置”，然后在右侧的表单设置处点击UI规则联动的“设置”按钮，即可打开UI规则联动的配置页面

![ITSM手册图片65.png](https://static.cwoa.net/309cc968a9034f178af9ed70c8e71075.png)

进入UI规则联动的配置页面，点击左上角的“新增规则”按钮，即可添加一条新的规则配置框进行配置。规则的配置包括触发条件和执行动作两部分，可以根据实际的业务场景配置满足什么条件时触发什么动作。

![ITSM手册图片66.png](https://static.cwoa.net/e40f19ac3ebd411780c5683d4f77317e.png)

###### 2.2.1.2.5.数据联动设置

数据联动是指表单中某个字段的值会随其他字段或变量值的变化而变化。

在表单设计页面点击画布右上角的“表单设置”，然后在右侧的表单设置处点击数据联动的“设置”按钮，即可打开数据联动的配置页面

![ITSM手册图片67.png](https://static.cwoa.net/d79d5db374e54d05abca299c20613ce9.png)

进入数据联动的配置页面，点击左上角的“新增规则”按钮，即可添加一条新的规则配置框进行配置。

![ITSM手册图片68.png](https://static.cwoa.net/e6bd106e1c5b40f88edb3e30fddf172e.png)

数据联动规则的配置有三种类型

1. **数据表联动配置**

**适用场景：**需要根据表单中某几个字段的值的填写自动查询出其他相关信息

**场景案例：**在如下表单中，希望选择一个省份之后，可以自动带出对应的邮编和所属区域

![ITSM手册图片69.png](https://static.cwoa.net/3b221bcc74574a018dfc83e9db97b5fb.png)

**配置步骤：**

① 首先维护一张省份信息数据表如下（具体的数据表创建步骤见平台管理/集成中心/数据表模块的介绍）：

![ITSM手册图片70.png](https://static.cwoa.net/8f4c0e4c645347fba33f3dcfa5a1e99a.png)

② 进入表单设计器中的数据联动配置页面添加一条数据联动规则

- 数据来源：选择数据表，选中维护好的目标数据表
- 条件输入：设置查询条件的映射关系（💡注意：相同类型的字段才可以做映射，故这里要先选择数据表的字段，才可以选输入变量，变量会根据类型进行过滤）
    ① 数据表字段：选择数据表中要作为查询条件的字段
    ② 输入变量：当前工单的相关变量，包含表单字段和系统变量，选择一个和数据表中的查询字段做映射（注意相同类型的字段才可以做映射，故这里要先选择）

该场景是通过“省份”字段查询其他信息，故配置输入变量为表单中的“省份”字段，去映射数据表中的“省份”字段。（💡注意：由于数据的查询是用key去匹配的，故这两个地方的省份数据源要来源于同一个数据字典才可以）

- 触发联动：设置表单中的哪些字段要从数据表中查询，并设置映射关系。

该场景是查询“邮编”和“所属区域”，故选择表单中的这俩字段和数据表中的邮编、所属区域配置映射即可

![ITSM手册图片71.png](https://static.cwoa.net/c760c92446d14ab592279f92d2615459.png)

2.**决策表联动配置**

**适用场景：**表单中某个字段的值可以根据一定的业务规则逻辑自动带出。如：根据紧急程度和影响范围的不同，自动带出优先级；根据事件分类自动带出处理组和处理人。

**场景案例：**在事件管理流程中，希望选择事件分类之后，可以自动分派处理组和处理人

![ITSM手册图片72.png](https://static.cwoa.net/44e020d8afc9494bb13d0fe919b177ba.png)

**配置步骤：**

① 首先维护一张事件分配策略的决策表如下（具体的决策表创建步骤见平台管理/规则管理/决策表模块的介绍）：

![ITSM手册图片73.png](https://static.cwoa.net/600210481deb4ce692952e31ac3bd785.png)

② 进入表单设计器中的数据联动配置页面添加一条数据联动规则

- 数据来源：选择决策表，选中维护好的目标决策表
- 条件输入和触发联动的配置同前面的数据表联动配置一样，该案例的具体配置如图：

![ITSM手册图片74.png](https://static.cwoa.net/ba8c63a5d65d468ab69b8e6ff6ff523a.png)

3.**动作联动配置**

**适用场景：**数据联动的数据源来源于外部系统时，可以通过动作管理模块将对应接口接入，通过动作联动来配置实现

**场景案例：**在事件管理表单中，选择报告人之后，可以从平台用户管理接口中查询到电话和邮箱自动填入

![ITSM手册图片75.png](https://static.cwoa.net/3e64ba1c6d674ca0a4af0a844a495671.png)

**配置步骤：**

① 首先在动作管理模块接入对应的接口（具体的动作创建步骤见平台管理/集成中心/动作管理模块的介绍）：

![ITSM手册图片76.png](https://static.cwoa.net/30b7bc6912054738bfae0ae1db039e90.png)

② 进入表单设计器中的数据联动配置页面添加一条数据联动规则

- 数据来源：选择动作，选中维护好的目标动作
- 条件输入：配置动作中的输入参数映射，可以自定义输入值或引用变量，引用变量可以选择表单字段或系统变量
- 触发联动：配置和数据表联动一样，区别是从接口的返回参数中选择映射

![ITSM手册图片77.png](https://static.cwoa.net/493bfdc14f974ba083113496a342e07b.png)

###### 2.2.1.6.表单样式设置

表单样式设计支持配置人员对工单表单的上的标题对齐方式设置，并且可以通过提供的自定义样式能力编写CSS，对字段的大小、颜色等属性进行个性化设置。

在表单设计页面点击画布右上角的“表单设置”，然后在右侧的表单设置处可以看到有标题对齐方式和自定义样式的设置。

![ITSM手册图片78.png](https://static.cwoa.net/62fda89947c140ab9a2b8616ffe3d006.png)

1.**标题对齐方式设置**

标题对齐方式提供了顶部对齐、左对齐、右对齐三种方式，效果如下：

- 顶部对齐

![ITSM手册图片79.png](https://static.cwoa.net/a42323d8d3bc41398da4ce44a331eee1.png)

- 左对齐

![ITSM手册图片80.png](https://static.cwoa.net/0e69c55717ea4ba782951cabc1cfd13f.png)

- 右对齐

![ITSM手册图片81.png](https://static.cwoa.net/5e8ac1a436ea45f5ad1dffa47ccd272c.png)

2.**自定义样式设置**

- 配置样式

点击“编辑自定义样式”进行样式添加

![ITSM手册图片82.png](https://static.cwoa.net/c62f7c18d7c54734b60a217028ae459f.png)

自定义样式的设置通过css编写，系统会自动将所写的类名提取出供选择使用，样式的优先级和编写的css代码有关

![ITSM手册图片83.png](https://static.cwoa.net/5d4131176ea942b9a06f4c5ae67eeaa0.png)

- 使用样式

在表单设置处的“自定义class”中选择配置的样式，即可对整体表单生效；在具体的某个字段属性配置中设置“自定义class”，即可对单个字段生效。

系统会默认将表单样式表中配置的类名取出供选择

![ITSM手册图片84.png](https://static.cwoa.net/a8d9ce1a8af8436fac06fcbcd172dfb4.png)

###### 2.2.1.2.7.表单校验设置

我们在设计表单的时候，经常需要对用户输入的数据进行校验，产品中除了可以在单个字段的字段配置处设置一些基础的校验（如必填、数值范围、时间范围、字数、格式-正则等）之外，还提供了专门的表单校验模块，支持做一些更灵活的字段组合条件校验以及和外部系统的关联校验，确保数据的准确性和完整性。

在表单设计页面点击画布右上角的“表单设置”，然后在右侧的表单设置处点击表单校验的“设置”按钮，即可打开表单校验的配置页面

![ITSM手册图片85.png](https://static.cwoa.net/ab4abec9e08a428d900cc662703a8b77.png)

进入表单校验的配置页面，点击左上角的“新增规则”按钮，即可添加一条新的规则配置框进行配置。

校验不通过时，支持设置阻断提交或仅做提示

- 阻断提交：不允许提交表单
- 仅做提示：会提示不符合规则，但是可以继续提交表单

![ITSM手册图片86.png](https://static.cwoa.net/26e9658fabf44299bd4d5d6a6b46a6e3.png)

表单校验的配置支持三种方式：

1.**表单设置**

表单设置的方式指通过规则条件配置的方式，设置表单中多个字段或系统变量的组合条件校验：如“字段1包含xx”且“字段2等于xx”时，进行校验提示。

**触发条件：**

通过规则配置的方式设置触发校验提示的条件

**校验设置：**

- 满足触发条件时
    ① 阻断提交：不允许提交表单
    ② 仅做提示：仅提示不符合规则，但是可以继续提交表单
- 提示内容：设置要提示的内容文案
- 提示字段：选择要在哪个字段上进行提示

![ITSM手册图片87.png](https://static.cwoa.net/161c29b826c848ca9752a4200b329046.png)

2.**引用动作**

通过动作校验的使用场景如下：

①需要和外部进行联合校验的场景：例如重复、存在、正确与否等等

②通过接口满足一些复杂的校验场景

**输入参数：**

选择一个具体动作之后，配置输入参数，可以直接填值或者引用变量。

**校验设置：**

- 结果参数：选择一个返回参数作为校验结果判断的参数，校验通过和不通过的返回值必须为：TRUE（通过）、FALSE（不通过），可选参数类型为布尔类型

注：若返回值为空，当做不通过处理；若返回值为其他值，当做通过处理

- 满足触发条件时
    ① 阻断提交：不允许提交表单
    ② 仅做提示：仅提示不符合规则，但是可以继续提交表单
- 提示内容：设置要提示的内容文案，可以在这里直接输入，或者选择一个返回参数的值作为提示内容，只能选择字符串类型的参数
- 提示字段：选择要在哪个字段上进行提示

![ITSM手册图片88.png](https://static.cwoa.net/3c7627048d08443680d385e920619e43.png)

3.**自定义JS**

通过自定义JS的方式进行校验设置时，校验是否阻断提交、提示内容以及提示字段的设置，都在JS脚本中进行设置。

具体规范待补充

![ITSM手册图片89.png](https://static.cwoa.net/9cb6506ec5e146948c0e1b37a01168a7.png)

###### 2.2.1.2.8.表单预览

点击右上方的“预览”按钮，可以对当前编排的表单进行预览，检查配置是否有问题。

![ITSM手册图片90.png](https://static.cwoa.net/694165367bde4456b3f403868bf90675.png)

##### 2.2.1.3.流程设计

在表单设计完成之后，进入到流程设计的步骤

###### 2.2.1.3.1.流程设计概述

产品提供了可视化的流程设计器，通过拖放节点和网关来编排流程。编排好流程后可以配置节点处理人、操作按钮和字段状态。流程设计器具体布局说明如下：

- 节点类型：目前支持开始/结束事件、手动节点、审批节点、自动节点、子流程、分支网关、并行网关、并行条件网关、汇聚网关、决策节点。
- 流程画布：在该区域编排流程图，为节点配置处理人、操作按钮和字段状态等。
- 画布工具栏：支持流程图放大、缩小、全屏、撤回、重做。

![ITSM手册图片91.png](https://static.cwoa.net/1a0e577d03cd4d839f49afdb5de81b47.png)

**流程设计的一般步骤为：**

1. 添加节点到流程画布
2. 在画布中进行流程连线编排
3. 配置节点信息：处理人、按钮、字段状态、条件网关的条件等（不同类型的节点配置项不同）

###### 2.2.1.3.2.流程节点介绍

|     |     |
| --- | --- |
| **节点名称** | **说明** |
| 开始事件 | 启动流程的开始事件，流程图中必须包含开始事件。一个流程中只有一个开始事件。 |
| 结束事件 | 流程的结束事件，流程图中必须包含结束事件。一个流程中可以根据不同的流转路径配置多个结束事件。 |
| 手动节点 | 在流程中需要人工处理的任务节点。可以为其配置处理人、支持的操作、字段状态 |
| 审批节点 | 带有审批属性的节点，有同意和拒绝两种结论。可以为其配置审批人、支持的操作、字段状态 |
| 自动节点 | 自动节点用于不需要人工干预的，可以由系统自动执行的任务节点。通常用于执行一些预定义的、重复性的或者无需用户决策的工作。如实现系统间的自动化交互。 |
| 子流程 | 当一个流程比较复杂的时候，可以将其拆分成多个子流程，可以更清晰地进行管理 |
| 派单节点 | 派单节点适用于先派单再处理的场景，流程到达派单节点，由派单人进行工单分派之后，处理人再进行处理提交 |
| 标准运维节点 | 标准运维节点是和平台标准运维产品结合，允许流程到达某个节点之后，执行标准运维中的任务。 |
| 发送通知 | 发送通知节点用于配置到达某个环节给相关人员发送通知。 |
| 分支网关 | 允许流程在不同的路径之间做出选择，根据某些条件或决策点来决定下一个执行的路径。分支网关的最终执行路径只有一条，当满足多个路径的条件时，会走优先级最高的分支 |
| 并行网关 | 允许流程在多个路径上并行执行，所有路径同时开始，然后等待所有路径完成后再继续。并行网关需要配合汇聚网关使用。 |
| 并行条件网关 | 与并行网关不同的是，并行条件网关中的每条路径都有条件配置，满足条件后才可以到达。与分支网关不通的是，并行条件网关满足多个路径的条件时，满足条件的路径需要同时执行。 |
| 汇聚网关 | 配合并行网关和并行条件网关使用，在并行路径完成的地方添加汇聚网关。 |
| 决策节点 | 决策节点需要配合决策表使用，通常用于一些预先定义好的规则，实现一些场景的自动化，提高工单处理效率。如通过决策表预先定义好不同事件分类对应的处理人，在流程中通过决策节点来关联决策表输出具体的处理人值。 |

操作介绍

|     |     |
| --- | --- |
| **操作** | **操作说明** |
|提交|提交当前表单信息（手动节点才有），点击后流程继续流转。当表单信息确认填写完成后，可以进行提交，让流程继续往下流转。|
|更新|更新当前表单信息，和提交不同，点击后只是更新表单信息，流程不会继续往下流转。当工单处理人只是填写了部分信息，想要更新给用户看，但暂不需要提交至下一节点时，可以点击更新|
|保存|保存当前任务中填写的内容，下次进来继续填写。保存的内容并不会被正式更新，有处理权限的用户才可见。|
|认领|当工单被分派到某一范围内的用户时，用户可以主动认领当前任务。对于启用了认领功能的节点， 要认领后才可以进行处理|
|转单|当工单处理人无法亲自处理工单时，可以将工单转派给他人处理|
|退回|工单当前节点的处理人对工单历史节点的处理情况有异议时，可将工单回退给历史节点处理人进行处理。|
|审批|审批节点的审批按钮有”同意“和”拒绝“，点击同意和拒绝都会提交当前表单信息，提交后流程继续往下流转|
|加签|为当前审批节点添加审批人（审批节点才有）。当前审批任务需要其他成员审批时，可以进行加签操作来添加审批人，加签支持前加签和后加签。前加签：被加签人审批后，我才可以审批。后加签：我审批之后，被加签人才可以审批|
|重试/手动执行|当自动节点的自动任务执行失败时，可以点击重试或手动执行。重试：再次触发自动任务的执行。手动执行：自动执行始终无法成功时，可以使用手动执行，自行填写输出参数后提交|
|撤回|工单流程中上一个历史节点的处理人需要重新处理历史节点工单时，可以进行撤回。可撤回的前提是下一节点还未处理，若下一节点已经处理，就不可以进行撤回。|
|挂起/恢复|挂起：当工单暂时不需要处理工单时，可将选择挂起工单。恢复：当前工单需要继续处理时，可以点击恢复工单|
|关闭|若工单内容已经被提前解决，不需要按照既定流程继续跑完时，可提前关闭工单。关闭工单后，工单则结束，不在继续往下走。|
|终止|若工单内容由于某些原因不需要完成，可以进行终止。终止工单后，工单则结束，不在继续往下走。|
|重新打开|工单流转到结束状态后，因为某些原因需要重新流转，可以进行重新打开。重新打开后工单从提单节点之后重新开始流转。|
|自定义按钮（关联单）|通常用于事件转问题，事件转变更等场景，需要将当前事件单据转建为问题单，希望自动填入事件单中的相关信息，就可以在流程自定义按钮下配置关联单的按钮。|

###### 开始事件&提单节点

启动流程的开始事件，流程图中必须包含开始事件。一个流程中只有一个开始事件。

流程初始设计会自动包含开始事件，并且自带提单节点，不可删除。点击提单节点，可以进行节点的操作按钮和字段配置

![ITSM手册图片92.png](https://static.cwoa.net/6c0b28e9ee684357b8629fa9c89e263f.png)

1.**操作按钮配置**

点击提单节点，选中“操作按钮”页签，进行操作按钮的配置。启用后到达节点才可以看到相关的操作

![ITSM手册图片93.png](https://static.cwoa.net/c0e74a752ff14fbba8db4c1a20ea2d6b.png)

操作说明：

|     |     |
| --- | --- |
| **操作** | **操作说明** |
| 提交  | 提单操作，提交后流程进入下一节点。 |
| 保存草稿 | 当前表单内容未填写完成时，可以点击”保存草稿“，将所填内容存到草稿箱，下次可以在”我的草稿“列表中，打开对应工单填写完成后提交。 |
| 保存模板 | 将当前所填信息保存为模板，下次使用相同的流程提单时，选择使用模板填写，即可快速填写表单。 |

2.**字段配置**

点击提单节点，选中“字段配置”页签，进行该节点表单字段状态的配置。详见节点字段状态配置说明

![ITSM手册图片94.png](https://static.cwoa.net/ed802355a6af419db5f585d3aa6786eb.png)

**结束事件:**

流程的结束事件，流程图中必须包含结束事件。一个流程中可以根据不同的流转路径配置多个结束事件。结束事件无需进行其他配置。

**工单结束后字段状态说明：**

工单结束后会默认展示所有字段，并且为只读状态，但配置的表单UI规则联动仍会生效。比如：配置的事件已解决时，隐藏“未解决原因”、如果工单到达结束状态，“事件是否解决”字段的值为“是”，则不会显示“未解决原因”字段

![ITSM手册图片95.png](https://static.cwoa.net/f8373e7977ee4f429a148aa12dacf861.png)

**手动节点:**

在流程中需要人工处理的任务节点。可以为其配置处理人、支持的操作、字段状态

1.**处理人配置**

点击节点卡片，选中“处理人”页签，配置该节点的处理人，支持指定人员、指定用户组、表达式3种中方式，并且可以引用表单字段、系统变量和节点变量的相关对象作为处理人。

**多人处理方式有并行和协同两种：**

**① 指定人员时：**

- 协同：一名用户处理即可
- 并行：所有用户均需要处理，同时进行

假设引用了变量，选择了两个人员变量，变量A的值有用户1、2，变量B的值有用户3、4，则：

- 协同：用户1/2/3/4任意一个用户处理即可
- 并行：用户1/2/3/4都需要处理

**② 指定用户组时：**

- 协同：任意一个用户组中任意一个用户处理即可
- 并行：所有用户组均需要处理，每个用户组中只要一个人处理即可，同时进行

假设引用了变量：选择了两个用户组变量，变量A的值有用户组1、2，变量B的值有用户组3、4

- 协同：用户组1/2/3/4任意一个用户组中任意一个人处理即可
- 并行：用户组1/2/3/4都需要处理，每个用户组中只要一个人处理即可，同时进行

![ITSM手册图片96.png](https://static.cwoa.net/0d5317be12634bf6948b88281c1cba0b.png)

2.**操作按钮配置**

点击节点卡片，选中“操作按钮”页签，进行操作按钮的配置。启用后到达节点才可以看到相关的操作

![ITSM手册图片97.png](https://static.cwoa.net/98bf4268f8c445bcbb8c1e3184938f64.png)

操作说明：

|     |     |
| --- | --- |
| **操作** | **操作说明** |
|提交|提交当前表单信息（手动节点才有），点击后流程继续流转。当表单信息确认填写完成后，可以进行提交，让流程继续往下流转。|
|更新|更新当前表单信息，和提交不同，点击后只是更新表单信息，流程不会继续往下流转。当工单处理人只是填写了部分信息，想要更新给用户看，但暂不需要提交至下一节点时，可以点击更新|
|保存|保存当前任务中填写的内容，下次进来继续填写。保存的内容并不会被正式更新，有处理权限的用户才可见。|
|认领|当工单被分派到某一范围内的用户时，用户可以主动认领当前任务。对于启用了认领功能的节点， 要认领后才可以进行处理。可认领工单的人员范围为配置的处理人范围。未认领前，不可以进行提交、保存、更新、退回和挂起操作|
|转单|当工单处理人无法亲自处理工单时，可以将工单转派给他人处理。设置转单范围：设置转单时可选的人员范围![ITSM手册图片98.png](https://static.cwoa.net/d6ebb3608dbe44fba11f9ff4189d3ed0.png)|
|退回|工单当前节点的处理人对工单历史节点的处理情况有异议时，可将工单回退给历史节点处理人进行处理。设置允许退回节点：设置可以退回到哪些节点（目前只提供了“前置所有节点”的选项）。![ITSM手册图片99.png](https://static.cwoa.net/8d0014f9b3664bcd94f5dcb722ffd460.png)退回后重新提交：设置退回后重新提交流程的流转方式（当前只做了按流程线条流转，即从退回的节点按照流程路径重新进行一步步的流转）![ITSM手册图片100.png](https://static.cwoa.net/fd4f9b97becb474688bf45104053161c.png)|

3.**字段配置**

点击节点卡片，选中“字段配置”页签，进行该节点表单字段状态的配置。详见节点字段状态配置说明

![ITSM手册图片101.png](https://static.cwoa.net/4e1abdef7e834ea1b2a7ccaa5e7636ad.png)

**审批节点:**

带有审批属性的节点，有同意和拒绝两种结论。可以为其配置审批人、支持的操作、字段状态

1.**审批对象配置**

点击节点卡片，选中“审批对象”页签，配置该节点的审批对象，支持指定人员、指定用户组、表达式3种中方式，并且可以引用表单字段、系统变量和节点变量的人员相关对象作为审批对象

![ITSM手册图片102.png](https://static.cwoa.net/6ae68051078e42db8bc04f9f062f98d3.png)

**多人审批方式说明：**

**①指定人员时：**

**依次审批（按顺序依次审批）：** 所有审批人都需要审批，按顺序进行，所有审批人都审批完当前节点才流转

——节点审批结果值为"通过"：所有人都点”同意“，

——节点审批结果值为"不通过"：有任何一个人点”拒绝“

**或签（一名审批人同意即可）：** 只要有一个人审批了，当前节点就流转

——节点审批结果为"通过"：一个审批人点了”同意“

——节点审批结果为"拒绝"：一个审批人点了”拒绝“

**会签（需所有审批人同意）：** 所有审批人都需要审批，无需按顺序进行，所有审批人都审批完当前节点才流转

——节点审批结果为"通过"：所有人都点”同意“

——节点审批结果为"拒绝"：有任何一个人点”拒绝“

**② 指定用户组时：**

**依次审批（按顺序依次审批）：** 所有用户组都需要审批（每个用户组中任意一个用户审批即可），按顺序进行，所有用户组都审批完当前节点才流转

——节点审批结果值为"通过"：所有人都点”同意“，

——节点审批结果值为"不通过"：有任何一个人点”拒绝“

**或签（一名审批人同意即可）：** 只要有一个人审批了，当前节点就流转

——节点审批结果为"通过"：一个审批人点”同意“

——节点审批结果为"拒绝"：一个审批人点”拒绝“

**会签（需所有审批人同意）：** 所有用户组都需要审批（每个用户组中任意一个用户审批即可），无需按顺序进行，所有用户组都审批完当前节点才流转

——节点审批结果为"通过"：所有人都点”同意“

——节点审批结果为"拒绝"：有任何一个人点”拒绝“

2.**操作按钮配置**

点击节点卡片，选中“操作按钮”页签，进行操作按钮的配置。启用后到达节点才可以看到相关的操作

![ITSM手册图片103.png](https://static.cwoa.net/fd2a70f674ae4c81a6e1ae5ae6057a24.png)

操作说明：

|     |     |
| --- | --- |
| **操作** | **操作说明** |
| 同意 | 个人审批的结果，点击同意和拒绝都会提交当前表单信息，提交后流程继续往下流转 |
| 拒绝 |个人审批的结果，点击同意和拒绝都会提交当前表单信息，提交后流程继续往下流转 |
| 更新 | 更新当前表单信息，和提交不同，点击后只是更新表单信息，流程不会继续往下流转。并且更新不会校验必填项当工单处理人只是填写了部分信息，想要更新给用户看，但暂不需要提交至下一节点时，可以点击更新 |
| 保存 | 保存当前任务中填写的内容，下次进来继续填写。保存的内容并不会被正式更新，有处理权限的用户才可见。 |
| 转单 | 当工单处理人无法亲自处理工单时，可以将工单转派给他人处理 |
| 退回 | 工单当前节点的处理人对工单历史节点的处理情况有异议时，可将工单回退给历史节点处理人进行处理。 |
| 加签 | 为当前审批节点添加审批人（审批节点才有）当前审批任务需要其他成员审批时，可以进行加签操作，加签支持前加签和后加签。加签位置前加签：被加签人审批后，我才可以审批后加签：我审批之后，被加签人才可以审批加签审批人范围：加签时允许选择的人员范围 ![ITSM手册图片104.png](https://static.cwoa.net/8a356c09dd204813b3c281b8f0a36141.png)|

3.**字段配置**

点击节点卡片，选中“字段配置”页签，进行该节点表单字段状态的配置。详见节点字段状态配置说明

![ITSM手册图片105.png](https://static.cwoa.net/a6efd8ddab164635b74c43ca0e44030d.png)

**自动节点:**

自动节点用于不需要人工干预的，可以由系统自动执行的任务节点。通常用于执行一些预定义的、重复性的或者无需用户决策的工作。如实现系统间的自动化交互。

点击节点卡片进行自动节点的配置

- 紧急处理人：当自动节点执行失败时，紧急处理人可以进行重试或手动处理
- 选择动作：这里可选的动作都是平台管理/集成中心/动作管理中的动作
- 输入参数：选择动作后，配置动作中相关的输入参数，可以引用表单字段、系统和节点变量
- 输出参数：输出参数无需配置，如果后续想引用输出参数为变量，则可以勾选对应参数的“引用为变量”

![ITSM手册图片106.png](https://static.cwoa.net/1e1c98844ab94cc78a3516b229f6e134.png)

- 自定义变量：

自定义变量用于对动作的输出参数进行再加工，灵活适配不同场景对于变量的诉求。

如：

1、接口输出的结果是列表\["admin", "18", "xxxx"\] ，可以加工成字符串： admin,18,xxx

2、对参数进行计算：\[10, 12\] -> 22

![ITSM手册图片107.png](https://static.cwoa.net/b81d8ab01cbd475bad6f669962eb7405.png)

**配置变量:**

点击新增，填写相关信息，保存即可

- 变量名：变量的名称
- 变量标识：变量的标识key
- 节点标识：当前这个节点的标识
- 类型：变量的数据类型，根据使用场景配置正确的类型，否则在具体引用的时候可能会选不到
- path：数据的路径
- 表达式：自定义变量是通过FEEL表达式来编辑的，FEEL表达式的说明待补充

![ITSM手册图片108.png](https://static.cwoa.net/ec374767433a49e99e29121487be7634.png)

**变量测试:**

配置完变量之后，可以通过测试功能验证变量输出结果是否符合预期。填写输出参数，点击“执行”，即可看到具体的输出信息

- 输出参数：这里的输出参数是填写动作中输出参数的值进行测试。（注意：这里填的是输出参数，不是输入参数，测试的时候直接拿输出参数来测试这个变量的输出结果，不会通过输入参数再去调用动作执行的）
- 输出信息：执行后的结果

![ITSM手册图片109.png](https://static.cwoa.net/212da14cc02c4c4cbb86e3c45f71a5c4.png)

**子流程:**

当一个流程比较复杂的时候，可以将其拆分成多个子流程，可以更清晰地进行管理。不过当前版本中的子流程还是和当前流程属于同一个工单，不会发起新的工单。

点击子流程展开，即可进行里面具体流程节点的配置。子流程中也要包含开始和结束节点。

![ITSM手册图片110.png](https://static.cwoa.net/c51f17d227bc44c89141a63bb97f6b7c.png)

**派单节点:**

派单节点适用于先派单再处理的场景，流程到达派单节点，由派单人进行工单分派之后，处理人再进行处理提交。可以为其配置处理人、支持的操作、字段状态

派单节点单独使用没有效果，需要要配合手动节点一起使用

![ITSM手册图片111.png](https://static.cwoa.net/7c95437073a147ccb0802277339d12aa.png)

1.**处理人配置**

点击派单节点卡片，选中“处理人”页签，配置该节点的处理人。这里配置的处理人是当前派单节点有派单权限的人（也就是派单人），由派单人进行分派下个节点的处理人。（当前可派单的人员范围还不支持自定义，默认是所有用户）。

![ITSM手册图片112.png](https://static.cwoa.net/900314d8951a4a9aad82282d91761ef2.png)

派单节点设置好之后，后面的手动节点处理人需要引用派单节点的“受派人”变量

如下场景：事件分配-事件处理

派单节点之后的“事件处理”节点处理人要引用派单节点的“受派人”变量，设置后到达该节点，处理人则自动为派单节点分派的处理人

![ITSM手册图片113.png](https://static.cwoa.net/334ad11dc1864c2e89fb0ccad302aebf.png)

![ITSM手册图片114.png](https://static.cwoa.net/f56625da6c824629b679526b9a88c14d.png)

2.**操作按钮**

点击节点卡片，选中“操作按钮”页签，进行操作按钮的配置。启用后到达节点才可以看到相关的操作

![ITSM手册图片115.png](https://static.cwoa.net/16e404fb92c74dc384272dc4f92b8d0c.png)

操作说明：

|     |     |
| --- | --- |
| 派单  | 分派他人处理工单 |
| 转单  | 当工单处理人无法亲自处理工单时，可以将工单转派给他人处理 |
| 退回  | 工单当前节点的处理人对工单历史节点的处理情况有异议时，可将工单回退给历史节点处理人进行处理。 |

3.**字段配置**

点击节点卡片，选中“字段配置”页签，进行该节点表单字段状态的配置。详见节点字段状态配置说明

![ITSM手册图片116.png](https://static.cwoa.net/cdebd150fb034229bcac5b24e72dacb5.png)

**标准运维节点:**

标准运维节点是和平台标准运维产品结合，允许流程到达某个节点之后，执行标准运维中的任务。

点击节点卡片进行标准运维节点的配置：

- 流程类型：可以选择标准运维中的公共流程或者某个项目中的流程
- 执行方案：所选流程对应的执行方案，从标准运维中选择的
- 执行人：以谁的身份进行执行（确保执行人有对应标准运维流程的执行权限）
- 流程继续流转条件：可以设置当前标准运维任务同步还是异步执行
- 输入参数：选择流程后，配置动作中相关的输入参数，可以引用表单字段、系统和节点变量
- 输出参数：输出参数无需配置，如果后续想引用输出参数为变量，则可以勾选对应参数的“引用为变量”

![ITSM手册图片117.png](https://static.cwoa.net/60db7ac4e66240f2b94cc73ba28a51ae.png)

**发送通知节点:**

发送通知节点用于配置到达某个环节给相关人员发送通知。

- 通知对象：谁可以收到该通知
- 通知渠道：通过什么渠道发送通知，如邮件、微信（这里的通知渠道是和平台对接的）
- 通知内容：发送通知的具体内容

![ITSM手册图片118.png](https://static.cwoa.net/c1c2755ec42c4a6780d8f47fe5430713.png)

**分支网关:**

分支网关允许流程在不同的路径之间做出选择，根据某些条件或决策点来决定下一个执行的路径。分支网关的最终执行路径只有一条，当满足多个路径的条件时，会走优先级最高的分支

![ITSM手册图片119.png](https://static.cwoa.net/314499a3930e47cc84a1ee67c05334ce.png)

**并行网关:**

并行网关允许流程在多个路径上并行执行，所有路径同时开始，然后等待所有路径完成后再继续。并行网关需要配合汇聚网关使用。

![ITSM手册图片120.png](https://static.cwoa.net/06e32546b1fe4ce892767860003eb53f.png)

**并行条件网关:**

并行条件网关与并行网关不同的是，并行条件网关中的每条路径都有条件配置，满足条件后才可以到达。与分支网关不通的是，并行条件网关满足多个路径的条件时，满足条件的路径需要同时执行。

![ITSM手册图片121.png](https://static.cwoa.net/3cdafe47dae14271811a40087a6b0572.png)

**汇聚网关:**

配合并行网关和并行条件网关使用，在并行路径完成的地方添加汇聚网关，再连接下一个节点

![ITSM手册图片122.png](https://static.cwoa.net/93db0049f13d48b3b72e1a6f023f4402.png)

**决策节点:**

决策节点需要配合决策表使用，通常用于一些预先定义好的规则，实现一些场景的自动化，提高工单处理效率。

如：通过决策表预先定义好不同事件分类对应的处理人，在流程中通过决策节点来关联决策表输出具体的处理人值。下面进行该示例的配置说明：

首先在决策表模块配置好事件分配策略的决策表

![ITSM手册图片123.png](https://static.cwoa.net/0721344f329242c3b2d0bfe95c2e6818.png)

然后在流程中添加一个决策节点

![ITSM手册图片124.png](https://static.cwoa.net/b11b4b0bc5da42a09a9773c1a819b82a.png)

点击决策节点进行配置，选择刚刚配置好的“事件分配策略”决策表，进行输入条件的配置，这里选择表单中的事件分类字段和决策表中的事件分类字段对应

![ITSM手册图片125.png](https://static.cwoa.net/3d3d33ccefdc4bebaaa214ab3eb8b91b.png)

在事件受理环节，处理人配置引用变量，选择决策节点的输出变量“处理人”即可。

![ITSM手册图片126.png](https://static.cwoa.net/ae1ccfca4bfd4e0ab3b3a7afb81ecbe0.png)

###### 2.2.1.3.3.节点字段状态说明

在配置字段时，可以设定4个状态和1个必填验证

- 可编辑
- 禁用
- 只读
- 隐藏(不勾隐藏则为显示)
- 必填（可编辑时必须校验）

注意：隐藏字段的值不会被提交更新

它们之间的优先级是：隐藏>只读>禁用>必填>可编辑，系统中在多个地方都有表单字段状态和必填校验的相关配置，当多个地方同时配置的时候，【节点字段配置】和【UI规则联动配置】的叠加取优先级高的，覆盖字段配置处的。

例：对于一个字段A，节点2在节点的字段配置处配置了隐藏，表单的UI规则联动处配置了满足条件可编辑，那由于隐藏的优先级大于可编辑，则到达节点2时，就算满足可编辑条件，字段A也是隐藏的。

如下3个地方都可以配置字段的状态和必填校验

1、表单设计器的字段配置项处

![ITSM手册图片127.png](https://static.cwoa.net/38fe3ecbdbee423a83423289acc4c761.png)

2、表单的UI规则联动设置

![ITSM手册图片128.png](https://static.cwoa.net/2bcfbce14fda4f06a56e38237296ba36.png)

3、节点的字段配置处

![ITSM手册图片129.png](https://static.cwoa.net/ffaffcef90f24dbe9f8a08b6069190c9.png)

##### 2.2.1.4.流程其他配置

表单和流程设计完成后，到第三步“流程设置”，可以进行一些其他的配置。

1.**工单按钮**

提供和工单相关的其他按钮配置

|     |     |
| --- | --- |
| **操作** | **操作说明** |
|撤回|工单流程中上一个历史节点的处理人需要重新处理历史节点工单时，可以进行撤回。可撤回的前提是下一节点还未处理，若下一节点已经处理，就不可以进行撤回。允许发起撤回的节点：配置工单到达什么节点允许发起撤回。假设勾选了“事件处理”节点，那工单到达事件处理节点还没提交前，允许撤回，假设没勾选则不允许撤回![ITSM手册图片221.png](https://static.cwoa.net/80648a9bbd6d462dbc1aa788278ffe30.png)|
|挂起/恢复|挂起：当工单暂时不需要处理工单时，可将选择挂起工单。恢复：挂起的工单需要继续处理时，可以点击恢复工单|
|关闭|若工单内容已经被提前解决，不需要按照既定流程继续跑完时，可提前关闭工单。关闭工单后，工单则结束，工单状态为“已完成”，不再继续往下走。|
|终止|若工单内容由于某些原因不需要完成，可以进行终止。终止工单后，工单则结束，工单状态为“终止”，不再继续往下走。|
|重新打开|工单流转到结束状态后，因为某些原因需要重新流转，可以进行重新打开。重新打开后工单从提单节点之后重新开始流转。|
|催办|\当觉得处理进度不达预期时，可以点击催办，催促处理人，点击后处理人会收到工单催办通知。（需要手动去通知管理模块设置并启用工单催办通知）|

![ITSM手册图片130.png](https://static.cwoa.net/653209c309e34d0b8d149e9ecbd75571.png)

2.**自定义按钮**

当前的自定义按钮提供了支持关联单场景的自定义按钮配置。通常用于事件转问题，事件转变更等场景，需要将当前事件单据转建为问题单，希望自动填入事件单中的相关信息，就可以在流程自定义按钮下配置关联单的按钮。

**自定义按钮配置:**

点击“添加自定义按钮”，即可添加一个按钮配置框，当前提供的仅有关联单按钮，所以不用选择按钮类型。

- 按钮名称设置：点击按钮配置框左上角的名称旁边的![ITSM手册图片222.png](https://static.cwoa.net/2a40683dff5a4c4b846749a6760a4e02.png)，即可进行按钮名称的修改。
- 关联流程设置：如需要事件转问题，就在事件管理流程中配置问题关联单，管理流程选择问题管理流程。
- 字段映射设置：配置创建关联单时需要自动填入的字段值映射关系。

![ITSM手册图片131.png](https://static.cwoa.net/cfc0a2274fcd461b9974366a9acc3e9b.png)

**自定义按钮使用:**

自定义按钮配置之后，在工单中会出现对应的按钮，点击按钮

![ITSM手册图片132.png](https://static.cwoa.net/f0d84f26d65248358e754edd06c91142.png)

点击按钮后会打开配置的关联流程的提单页面，会根据配置的字段映射关系自动填入相关值，填写好表单内容提交后，关联单则创建成功

![ITSM手册图片133.png](https://static.cwoa.net/4608924d57754d058245c6ce21328442.png)

创建的关联单可以在工单详情侧边的关联单列表中看到

![ITSM手册图片134.png](https://static.cwoa.net/46d9f74a45f84f5d81f64f8864b915af.png)

#### 2.2.2.触发器

流程触发器是在工作流中自动执行特定操作的机制。当特定事件发生或条件满足时，流程触发器会被激活，从而启动一个或多个相关的动作。这些动作可能是发送通知、更新数据库记录、创建新任务等。

![ITSM手册图片135.png](https://static.cwoa.net/e56f8f3f40444493b8258f5d0ef2091e.png)

##### 2.2.2.1.触发器配置

点击触发器列表右上角“新增”按钮创建触发器，填写信息

- 基础信息：名称、描述
- 触发事件：设置什么事件触发该触发器生效，如创建工单、更新工单。并且可以设置生效流程的范围
- 触发条件：配置触发器额外的生效条件，满足什么条件的时候触发器生效。

在配置条件中选择变量的时候，变量的可选范围和触发事件中配置的流程生效范围相关，如流程生效范围选的多个表单模型/流程，则只能引用系统变量，如流程生效范围选择的单个表单模型/流程，则可以选择模型/流程中的自定义变量

- 响应动作：配置满足触发事件和条件时，需要执行的动作，这里可选的动作是平台管理/集成中心/动作管理中的动作。选择对应的动作之后，会自动列出动作执行需要的输入参数，输入参数的配置可以自定义输入，也可以引用变量
- 其他说明：触发器的执行是异步执行，不会卡住工单的执行。

![ITSM手册图片136.png](https://static.cwoa.net/1049acbedc67485d88902f8b1448d913.png)

![ITSM手册图片137.png](https://static.cwoa.net/a65cdc43a63c4bdf8e6ba22235672a21.png)

##### 2.2.2.2.触发器使用

触发器配置完成后，当满足触发事件和条件的时候，就会自动触发执行动作，无需手动操作。触发器执行后，在具体的工单详情页可以看到相关的执行记录

![ITSM手册图片138.png](https://static.cwoa.net/f528d37debc244fa9ffaa452aa00976f.png)

#### 2.2.3.状态管理

工单状态管理模块用于配置工单从创建到关闭整个生命周期的状态流转逻辑，系统提供的内置的状态模型，同时也支持用户自定义状态和流转规则，可以根据需求进行配置。

![ITSM手册图片139.png](https://static.cwoa.net/89bc040252924babae9496fd3f1468e1.png)

##### 2.2.3.1.配置状态模型

- 基础信息：基础信息有名称、描述和表单模型的设置
    ① 其中表单模型和状态模型是一对一的关系，（如果选择表单模型时看不到相关的模型，则可能代表该表单模型已经绑定了其他的状态模型）
    ② 如果某个流程未绑定表单模型或绑定的表单模型没有配置对应的状态模型，那系统会自动使用内置的默认状态模型
- 状态列表：定义状态值。系统内置了草稿、处理中、挂起、已完成、终止几个状态，若需要其他状态可以点击“新增”进行自定义。
- 自动流转：用于设置状态的自动流转规则，当规则冲突时，会以顺序值小的为准，工单内置了基础的几个状态流转逻辑如下：
    ① 草稿：保存为草稿的单据状态为“草稿”
    ② 处理中：工单在流转过程中到达其他节点正常进行处理的为“处理中”状态
    ③ 挂起：对工单进行了“挂起”操作后，工单状态变为“挂起”状态。工单恢复之后状态回到挂起之前的状态
    ④ 已完成：工单正常流转完成或者手动关闭后，工单状态变为 “已完成”
    ⑤ 终止：对工单进行了“终止”操作后，工单状态变为“终止”状态

💡 注意：

1. 结束状态：结束状态流程不会继续流转，并且表单字段均为只读状态，除非重新打开单据
2. 添加流转规则时注意优先级顺序和逻辑的合理性，比如避免出现工单结束时还修改状态为处理中这种规则

![ITSM手册图片140.png](https://static.cwoa.net/68e5c5233b1b4461ae17b7caed6aaace.png)

##### 2.2.3.2.工单状态展示

在工单列表或工单详情左上角可以看到当前工单的状态

![ITSM手册图片141.png](https://static.cwoa.net/63a3d15e3a684c8c95e3482f81e92dc0.png)

#### 2.2.4.阶段管理

工单阶段管理模块可以把复杂流程的节点通过阶段管理起来，在流程流转的过程中可以清晰的看到目前到达哪个阶段，会给用户比较好的体验。

![ITSM手册图片142.png](https://static.cwoa.net/cd721ce001864fe3a95eaf8a59c6632c.png)

##### 2.2.4.1.阶段模型配置

1.**创建阶段模型**

点击阶段模型列表右上角“新增”按钮创建触发器，填写信息

- 基础信息：名称、描述
- 阶段列表：定义阶段值，该阶段模型中需要包含哪些阶段

![ITSM手册图片143.png](https://static.cwoa.net/90f2610657d04eb19f494d8c1c846b04.png)

2.**流程绑定阶段模型**

在流程设计第三步，点击“阶段管理”，进行流程阶段绑定。

选择对应的阶段模型后，该模型中所包含的阶段会自动铺列出来，在对应的阶段后面选择流程中的节点，进行绑定即可。

![ITSM手册图片144.png](https://static.cwoa.net/fdec659c26294dd9b3b974dd34276486.png)

##### 2.2.4.2.阶段使用

流程阶段绑定完成后，当使用该流程进行创建工单后，工单详情页面上会展示当前阶段的进展。

![ITSM手册图片145.png](https://static.cwoa.net/ca690693897a4338a003545cdd49d298.png)

### 2.3.规则管理

#### 2.3.1.决策表

决策表是一种结构化的分析方法，用于将复杂的逻辑条件用清晰的表格形式展现出来，便于统一维护和使用。

决策表用于实现流程过程中的一些自动化决策过程，有助于提升服务效率，提高服务质量。如在事件管理场景中，基于事件分类自动匹配处理人的场景，就可以通过决策表提前维护好事件分类和处理人的对应关系，在流程中实现自动化分派。

##### 2.3.1.1.决策表配置

1、在决策表列表页，点击右上角新增按钮，进入决策表配置页面

![ITSM手册图片146.png](https://static.cwoa.net/6845ba4039344698843cc64fabca6baa.png)

2、在决策表配置页面，填写决策表名称和描述，然后点击规则配置中的添加字段，进行决策表条件字段和结果字段的配置

- 条件字段：用于进行条件匹配的字段
- 结果字段：条件匹配时输出的结果字段

![ITSM手册图片147.png](https://static.cwoa.net/34a722f0ac9243c7a3e54b163e35799e.png)

条件的配置可以直接点击表格的输入框进行配置

![ITSM手册图片148.png](https://static.cwoa.net/d26936d6073841b392cceea642bcfc4f.png)

另外若有复杂的组合条件配置，可以点击“组合条件设置”进行更高级的条件配置

![ITSM手册图片149.png](https://static.cwoa.net/f46b48961ca448cc80bc478f3a356a7f.png)

![ITSM手册图片150.png](https://static.cwoa.net/a2b95a17e4714593a019db0bc47ed405.png)

##### 2.3.1.2.决策表使用

决策表的使用场景有以下两个：

1.**决策节点**

通常用于一些预先定义好的规则，实现一些场景的自动化，提高工单处理效率。

使用方法详见本文档**“平台管理/流程管理/流程设计/流程节点介绍”**中的决策节点介绍

![ITSM手册图片151.png](https://static.cwoa.net/9662530fae494a968cda2eb2f18f4d83.png)

2.**表单数据联动**

通常用于表单中某个字段的值可以根据一定的业务规则逻辑自动带出。

使用方法详见本文档**“平台管理/流程管理/流程设计/表单设计/数据联动设置”**中的决策表联动配置介绍

![ITSM手册图片152.png](https://static.cwoa.net/a07e00e6a05d4fd89b9ea57fcd2bff82.png)

### 2.4.视图管理

#### 2.4.1.视图列表

视图列表中展示了系统提供的或者随插件安装的所有视图，同时支持新增外链视图或基于组件编排新视图。

左侧栏是视图的分组，分组旁边的标签是视图所属的应用，右侧是该分组下具体的视图列表。

![ITSM手册图片153.png](https://static.cwoa.net/d8a030fdcc2a4ba2aa2966e07a5631cf.png)

##### 2.4.1.1.新增视图

如需新增视图，可以新建一个分组（内置的视图分组中不允许再新增新的视图），在新建的分组中点击右上角“新增”按钮，进行视图的新增。新增后的视图，需要去菜单管理模块，把视图添加到菜单中，才可以显示出来。

1.**新增外链视图**

新增方式选择“外链”，输入链接地址，视图即新增成功。

![ITSM手册图片154.png](https://static.cwoa.net/70f76e4c509c40b89c98505fd6787b20.png)

2.**新增自定义编排视图**

自定义编排视图是指基于产品提供的组件库，进行拖拽编排配置，设计新的视图。新增方式选择“自定义编排”，即进入视图编排引擎。

![ITSM手册图片155.png](https://static.cwoa.net/c8b0dffd060945b7b077e3c7e67c2316.png)

#### 2.4.2.菜单管理

菜单管理模块用于编排整个系统的菜单，系统提供了一个内置的默认菜单，同时支持自定义新菜单。

1.**新增菜单**

可以点击右上角新增按钮进行新增菜单，也可以选择一个已有的菜单复制后编排。

![ITSM手册图片156.png](https://static.cwoa.net/e32420a6180d4ae88f9ef10cbb3cfc39.png)

2.**编排菜单**

点击编辑进入菜单编辑页，从左侧“可选视图列表”中的视图中，勾选需要的视图，即可添加到右边菜单目录编排区域，添加后可以进行拖拽调整位置

![ITSM手册图片157.png](https://static.cwoa.net/ebff3cd1ab7d4d36a80eb474dee850da.png)

3.**新增目录**

点击菜单编排区右上角的“新增”按钮，可以新增一个目录，然后把对应的视图拖入到该目录下

![ITSM手册图片158.png](https://static.cwoa.net/476dd7989a9c4937914389bb3bec95a4.png)

4.**启用菜单**

菜单设置好之后，点击“启用”，即可立即启用该新菜单（一个门户只能有一个启用中的菜单）。

![ITSM手册图片159.png](https://static.cwoa.net/86948eaf49f44fabbce37f70e76f4921.png)

### 2.5.集成中心

#### 2.5.1.数据表

数据表模块用于维护一些和ITSM相关的业务数据，以便于在流程中使用

##### 2.5.1.1.数据表配置

1、在数据表列表页，点击右上角新增按钮，进入数据表配置页面

![ITSM手册图片160.png](https://static.cwoa.net/102dcb10bed348c8b19dd991c0f49299.png)

2、在数据表配置页面，填写数据表名称和描述，然后点击新增字段，进行数据表的字段配置，配置完成进行保存即可

![ITSM手册图片161.png](https://static.cwoa.net/f5606d237a8644cf8e9387d430cfbd7c.png)

3.点击列表的数据表名称，进入数据表的数据管理页面，进行数据的维护

![ITSM手册图片162.png](https://static.cwoa.net/5ffaa59accca4ea8bf2b05a4cbb39379.png)

![ITSM手册图片163.png](https://static.cwoa.net/2c3062e3a7844299b359ae21df66f06c.png)

##### 2.5.1.2.数据表使用

1.表单数据联动

数据表可以用于表单数据的联动配置，可以根据表单中某几个字段的值的填写查询出数据表中其他相关信息自动填入。

使用方法详见本文档**“平台管理/流程管理/流程设计/表单设计/数据联动设置”**中的数据表联动配置介绍

![ITSM手册图片164.png](https://static.cwoa.net/4a60c0930a554317b6214b08a9c0295a.png)

2.选择类字段数据来源

表单模型、决策表、流程表单中选择类字段的数据源来源于数据表时，选项设置方式选择“数据表字段值”，进行配置即可

![ITSM手册图片165.png](https://static.cwoa.net/0c2b0d07f2454f53b18cf253d1a1c7f5.png)

#### 2.5.2.动作管理

动作管理模块用于统一管理和第三方系统的对接。在流程中通过自动节点或通过触发器模块实现一些自动化场景。

##### 2.5.2.1.动作配置

1.在动作管理列表页，点击右上角新增按钮，进入动作配置页面

![ITSM手册图片166.png](https://static.cwoa.net/4ce10f5bcc4a4ba2bf4d626568285976.png)

2.在动作配置页面，填写动作名称和描述，然后选择动作类型（目前支持Python、api和服务动作三种），进行输入/输出参数的配置即可

其中

**Python脚本类型：**

上传Python文件后，自动解析出输入输出参数

![ITSM手册图片167.png](https://static.cwoa.net/cf06b6ce9163444fadf4a8a2441ceade.png)

**API类型：**

API类型的动作，对接的是平台的API Getway中的数据，需要手动配置输入输出参数。

- 执行人：资源（API）的调用用该执行人的身份，需要确保执行人有对应的资源权限
- 执行方式：执行方式有同步和异步两种，异步动作只能在流程的自动节点中使用，其他地方不可以使用
    ① 同步：动作发起后主动等执行完之后直接获取到输出参数
    ② 异步：动作发起后，需要被调用方通过回调地址主动回调传回输出参数
- 回调地址：执行方式为异步时，自动生成回调地址，用于被回调返回输出参数
- 超时时长：执行方式为异步时，如果超时未回调，则可由自动节点处设置的紧急处理人手动写入输出参数

![ITSM手册图片168.png](https://static.cwoa.net/6c5c9364f6ed4ae6a97f33856a8bd3a7.png)

**服务动作：**

服务动作是对接平台提供的动作原子能力，从平台动作服务中拉取动作列表。平台动作提供从开发、联调到部署集一体的动作式插件开发底层能力。服务动作的开发说明详见平台服务动作的说明。

![ITSM手册图片169.png](https://static.cwoa.net/7049cb1b072544a4bb069e04f5fa041b.png)

##### 2.5.2.2.动作使用

动作的使用场景有以下四个：

1.**流程中的自动节点**

自动节点用于不需要人工干预的，可以由系统自动执行的任务节点。通常用于执行一些预定义的、重复性的或者无需用户决策的工作。

使用方法详见本文档 **“平台管理/流程管理/流程设计/流程节点介绍”** 中的动作节点介绍

![ITSM手册图片170.png](https://static.cwoa.net/02cb2fc1ed924fbc8b1d75e4d8dae20d.png)

2.**表单数据联动**

数据联动的数据源来源于外部系统时，可以通过动作管理模块将对应接口接入，通过动作联动来配置实现

使用方法详见本文档 **“平台管理/流程管理/流程设计/表单设计/数据联动设置”** 中的动作联动配置介绍

![ITSM手册图片171.png](https://static.cwoa.net/5122ce6f202e4038ba85c966baf0968f.png)

3.**选择类字段数据来源**

表单模型、决策表、流程表单中选择类字段的数据源来源于外部系统时，可以通过动作管理模块将对应的接口接入，通过字段引用

选择类字段的选项设置方式选择“引用动作”，进行配置即可

![ITSM手册图片172.png](https://static.cwoa.net/17ef285cd9614c01924c890c29d0c69e.png)

4.**触发器触发动作执行**

流程触发器是在工作流中自动执行特定操作的机制。当特定事件发生或条件满足时，流程触发器会被激活，从而启动一个或多个相关的动作。这些动作可能是发送通知、更新数据库记录、创建新任务等。

使用方法详见本文档 **“平台管理/流程管理/触发器”** 中的介绍

![ITSM手册图片173.png](https://static.cwoa.net/aeda157cce8b46d4be917c29b1efe2c4.png)

### 2.6.通知管理

#### 2.6.1.通知规则

通知规则模块用于配置工单生命周期中的消息通知规则，主要目的是确保相关方能够及时、准确地接收到关于工单相关的消息

##### 2.6.1.1.内置通知规则

平台内置了常用的通知规则，进入详情页配置通知渠道，然后启用即可。如需修改其他配置，也可以进行修改。

![ITSM手册图片174.png](https://static.cwoa.net/6e32803c653940ce84ba3f33cb5e55cc.png)

内置通知说明：

|     |     |     |
| --- | --- | --- |
| 通知名称 | 触发事件 | 通知对象 |
| 工单结束通知 | 工单结束后通知 | 提单人 |
| 挂起工单通知 | 工单挂起后通知 | 提单人 |
| 恢复工单通知 | 工单挂起恢复后通知 | 提单人 |
| 评论工单通知 | 工单评论中@用户通知 | 被@的用户 |
| 退回工单通知 | 工单退回后通知 | 撤回后当前工单的处理人 |
| 撤回工单通知 | 工单撤回后通知 | 退回后当前工单的处理人 |
| 创建工单通知 | 工单创建后通知 | 提单人 |
| 待办工单通知 | 有新待办时通知 | 工单新增的处理人 |

##### 2.6.1.2.通知规则配置

如果有其他的通知需求，可以自定义新的通知规则。

点击通知规则列表右上角“新增”按钮创建通知规则，填写信息保存后，启用即可

- 基础信息：名称、描述
- 触发事件：设置什么事件触发该通知规则生效，如创建工单、退回工单、撤回工单等。并且可以设置生效流程的范围
- 触发条件：配置通知规则额外的生效条件，满足什么条件的时候通知规则生效
- 通知对象：谁可以收到该通知
- 通知渠道：通过什么渠道发送通知，如邮件、微信（这里的通知渠道是和平台对接的）
- 通知内容：发送通知的具体内容

![ITSM手册图片175.png](https://static.cwoa.net/a3ade07df8784af98940477809f718f0.png)

![ITSM手册图片176.png](https://static.cwoa.net/91ae57b03f06429bbf420ed157ce28fc.png)

##### 2.6.1.3.通知规则使用

通知规则配置完成并启用后，当规则匹配的时候，就会自动发送通知，无需手动操作。

### 2.7.定时任务

定时任务是指通过预设时间规则自动触发执行的运维操作或流程，通常用于周期性或计划性的IT服务管理活动。其核心目标是提升运维效率、规范流程执行，并减少人工干预。如定时巡检任务。

#### 2.7.1.定时任务配置

1、点击新增按钮新增一个定时任务

![ITSM手册图片177.png](https://static.cwoa.net/fb3a9728dc9c4da7b75405903e177eb8.png)

2、设置执行周期，支持设置单次固定时间执行，或周期执行

![ITSM手册图片178.png](https://static.cwoa.net/5a1f9c3bf75c4e60850d8ed55591b27b.png)

3、选择定时任务要发起的工单，设置提单人和提单信息

![ITSM手册图片179.png](https://static.cwoa.net/156937063d8f4b6ebc7e14d5c6dad8bc.png)

#### 2.7.2.定时任务使用

定时任务配置完成后，当到达配置的执行时间时，就会自动触发创建工单任务，无需手动操作。

### 2.8.组织管理

#### 2.8.1.用户组管理

用户组是一组用户的集合，用户组管理模块用于用户组的创建和统一管理。

##### 2.8.1.1.新增用户组

在左侧的用户组分类中选择一个叶子节点，点击右侧用户组列表右上角“新增”按钮创建用户组，填写信息保存后，启用即可。

- 用户组分类：用户组所在的分类，对应该页面左侧的分类树
- 用户组标签：给该用户组打标签，标签在数据字典内置的“用户组标签”字典中进行维护

![ITSM手册图片180.png](https://static.cwoa.net/b9324787171a436a8ae9e57bb8241646.png)

![ITSM手册图片181.png](https://static.cwoa.net/c7399358fef84278b6c90d87ecacd16c.png)

用户组创建成功后，可以点击列表的用户组名称进入用户组详情页，查看用户组的详细信息

![ITSM手册图片182.png](https://static.cwoa.net/eefbde9b244a4f3e9ac918bb45e903cd.png)

##### 2.8.1.2.修改用户组

进入用户组详情页，进行基础信息和用户组成员的修改

- 基础信息：鼠标悬浮在对应字段处，出现![ITSM手册图片222.png](https://static.cwoa.net/2a40683dff5a4c4b846749a6760a4e02.png)，点击图标进行修改
- 用户组成员：点击成员列表右上角“添加成员”按钮进行成员的新增，点击成员列表后面的“移除”按钮删除成员

![ITSM手册图片183.png](https://static.cwoa.net/29a7e48f66884a52a22276fc04419e8f.png)

##### 2.8.1.3.用户组启停

在用户组列表上可以通过启停按钮控制用户组的启停。

用户组停用之后：

- 在前台涉及到选择用户组的地方会看不到停用的用户组
- 若流程中配置了已经停用的用户组，工单任务还是会继续派发，如果不需要派发给停用的用户组，需要自行进入流程中进行修改

![ITSM手册图片184.png](https://static.cwoa.net/c07740d26fa14ac1949dcb45ecbe9bfe.png)

##### 2.8.1.4.删除用户组

在用户组列表点击“删除”按钮即可进行删除

删除用户组之前，要先停用对应的用户组，启用中的用户组不支持删除。

![ITSM手册图片185.png](https://static.cwoa.net/6f503073a15647dd9559a44c38cc800d.png)

#### 2.8.2.VIP管理

VIP管理是用于管理组织内的VIP用户，在VIP列表中的人员字段可以在工单表单或工单列表展示VIP标识，可以进行单据优先处理。

1、在VIP管理页面中，点击右上角的“添加用户”按钮，添加VIP用户

![ITSM手册图片186.png](https://static.cwoa.net/a509e6b77c3743e28e1d83dd48eda3a1.png)

2、在具体的流程设计中的第三步“流程设置”中，设置需要展示VIP标识的人员字段

![ITSM手册图片187.png](https://static.cwoa.net/ab92ea91e6974b5491202c1b7617dfad.png)

3、配置好VIP标识之后，将在工单列表和工单详情中对应字段的VIP用户旁显示VIP标识。

![ITSM手册图片188.png](https://static.cwoa.net/666f087e4a8345a9ba1b13328e1d0862.png)

![ITSM手册图片189.png](https://static.cwoa.net/7c581ec0a9444d71bd969585c422e48f.png)

### 2.9.全局配置

#### 2.9.1.基础配置

系统中一些基础的配置统一在该模块下进行配置。

![ITSM手册图片190.png](https://static.cwoa.net/3f7bbaf9c76043bfbd186942299add7d.png)

1.**附件类型配置：**

配置系统中涉及附件上传的功能所支持的附件类型

新增附件类型在输入框中写入“.xxx”（注意要加前缀“.”），回车即可添加，然后点击保存

![ITSM手册图片191.png](https://static.cwoa.net/b768f4d582804a86a214c1fdcad1f48b.png)

2.**用户信息配置：**

配置系统中用户信息的展示

![ITSM手册图片192.png](https://static.cwoa.net/11e118518e7947afa72b88eaf2a5ae00.png)

- 列表用户信息展示：在各种列表中的人员信息展示

![ITSM手册图片193.png](https://static.cwoa.net/799483b9ad4147c1a94c56f1164a33dc.png)

- 工单详情用户信息展示：在工单详情中的人员信息卡片的展示

![ITSM手册图片194.png](https://static.cwoa.net/182f13047ee848228a45454bb9f5b375.png)

- 用户选择组件用户信息展示：在所有涉及到用户选择组件处的用户信息展示

![ITSM手册图片195.png](https://static.cwoa.net/23db6d3ffd1f4839bb5d65aecee3f3c3.png)

#### 2.9.2.数据字典

数据字典用于维护工单中选择类字段的数据源，把具有复用性的数据在数据字典进行统一维护管理（如事件分类、事件来源等），保证数据的标准化和一致性，并且可以减少管理工作量，提高流程设计效率。

##### 2.9.2.1.数据字典配置

1.**新增数据字典**

点击数据字典列表右上角“新增”按钮创建数据字典，填写信息保存后，启用即可。

数据字典也可以支持层级数据的维护，供级联字段使用

![ITSM手册图片196.png](https://static.cwoa.net/6608008f0e26486da5c3b463b95ad027.png)

![ITSM手册图片197.png](https://static.cwoa.net/a926bc16c33f47eb8581dd593b939020.png)

2.**导入数据字典**

也可以通过导入的方式导入数据字典。导入的文件格式为JSON，相当于可以把本系统中导出的数据字典文件进行导入

![ITSM手册图片198.png](https://static.cwoa.net/e85fdda0ad144a8a88d1cd08d49b436c.png)

##### 2.9.2.2.数据字典使用

在流程表单设计的时候，选择类字段的选项来源可以选择数据字典，即可从数据字典中选择。

可使用数据字典作为选项来源的字段类型有：单/多选下拉，单/多选框，单/多选级联选择器

![ITSM手册图片199.png](https://static.cwoa.net/e5b2c0c766ac49c9af9966a8ed2c3566.png)

#### 2.9.3.流程类型

流程类型指的是不同种类的流程。流程类型配置如下：

1.在流程类型页面点击“新增”按钮，填写类型名称和单号前缀，保存后流程类型则新增成功

工单编号的逻辑说明：

- 格式为:前缀+日期+8位序号，如：INC2024061700000001
- 编号后8位序号是按流程类型和门户隔离的，同一门户同一类型的工单编号后8位序号会每天从1开始递增

![ITSM手册图片200.png](https://static.cwoa.net/e269ac6c9fec4086980ef2f8212d9067.png)

![ITSM手册图片201.png](https://static.cwoa.net/fb4746fcefad4c96994e5860f88f78e5.png)

2.在设计流程的时候，需要选择一个流程类型。后续用该流程提单时，对应的单号前缀则与该类型设置的前缀匹配

![ITSM手册图片202.png](https://static.cwoa.net/e251cc15641a4e99b88160c670403841.png)

3.在工单中心创建工单时，左侧分类也是按流程类型进行的分类

![ITSM手册图片203.png](https://static.cwoa.net/9c4dc4588e164f828ac2e59f71ff5275.png)

#### 2.9.4.门户配置

ITSM提供门户配置功能，可以支持创建多个门户。"多门户"是指为不同用户群体或角色提供定制化访问入口的概念。每个门户都是为特定的用户群体设计的，以满足他们的特定需求和偏好。多门户的目的是提供更加个性化和高效的用户体验，确保用户能够轻松访问与他们相关的信息和服务。

##### 2.9.4.1.门户配置

点击门户配置列表右上角“新增”按钮创建新门户，填写信息保存后，启用即可。

![ITSM手册图片204.png](https://static.cwoa.net/3736d1fa397b434d918b655936e26233.png)

创建一个门户后，会在权限中心自动创建一个分级管理空寂，点击”权限配置“跳转至权限中心，进入该门户的分级管理空间

![ITSM手册图片205.png](https://static.cwoa.net/ae84298a7d4e4e98a18cefe6b4337582.png)

在分级管理空间中，可以配置该门户的管理员、授权人员和最大授权边界

关于权限中心的详细使用说明，可查看权限中心的用户手册

![ITSM手册图片206.png](https://static.cwoa.net/e9b54d44639643359b94bdde8fe1b1f4.png)

门户管理员在权限中心左上角切换至对应的门户管理空间，可以进行该门户下的用户组、权限模板的配置，同时还可以创建该空间下的二级管理空间。

![ITSM手册图片207.png](https://static.cwoa.net/774d3738e0a84f71afc93047a52ed913.png)

##### 2.9.4.2.门户使用

门户配置完成后，用户只要有该门户的可见范围权限，就可以在产品首页左上角进行门户切换查看

![ITSM手册图片208.png](https://static.cwoa.net/bb5b16d9d76e43699496ea4477f278a8.png)

![ITSM手册图片209.png](https://static.cwoa.net/fb433a97f0bb4579b5cdadbafc39aba2.png)

切换门户查看

![ITSM手册图片210.png](https://static.cwoa.net/58154327650b4f209a66cb86944373ee.png)

##### 2.9.4.3.门户数据

不同门户下的数据除工单数据和VIP用户列表外，其他数据都是按门户进行隔离的

![ITSM手册图片211.png](https://static.cwoa.net/a99d97af69be43469991b25c4fe56a28.png)

![ITSM手册图片212.png](https://static.cwoa.net/8b79ce8b7e31446eba10aefae9587ccb.png)

#### 2.9.5.工单分组

##### 2.9.5.1.工单分组配置

管理员可以在后台的工单分组模块对用户进行统一配置初始化工单分组。

1.新增分组目录

左侧是工单分组目录的维护，点击可以新增分组目录。

![ITSM手册图片213.png](https://static.cwoa.net/165bdae39a914cd4ab00a54ed592a6ce.png)

2.新增分组

在对应的分组目录下点击”新增分组“按钮，进行新分组的创建

![ITSM手册图片214.png](https://static.cwoa.net/4cc1fbe095e149b98f467f57137cf127.png)

![ITSM手册图片215.png](https://static.cwoa.net/0fefe4d5b2c8404e804d2352e87ecf35.png)

3.添加分组到目录

创建完成分组后，在分组配置中勾选对应的分组，添加到“已选分组”中

![ITSM手册图片216.png](https://static.cwoa.net/10bbb3a4288941e8a41854876648b07a.png)

4.分组权限配置

可以通过可见范围的配置，控制分组的可见权限，范围内的用户才能看到该分组目录下的分组。

![ITSM手册图片217.png](https://static.cwoa.net/56256fc6cc564caa9198643fd50f5d0b.png)

##### 2.9.5.2.工单分组使用

管理员配置完工单分组后，有权限的用户即可在工单中心看到对应的分组。

工单分组是对用户已经有查看权限的工单进行分组，所以同一个分组下，不同用户可见的工单数据可能有所不同，依赖工单的查看权限

![ITSM手册图片218.png](https://static.cwoa.net/d1c91d7a8c3e4ef2a83e92e9e2d6f42c.png)

若新增分组的条件是基于同一个流程或者同一个表单模型设置的，还可以配置把流程字段或者表单模型的字段展示在列表

![ITSM手册图片219.png](https://static.cwoa.net/da911bf8c64c4832a892b67c02fda5b3.png)

个人用户也可以点击工单分组旁边的设置按钮，自定义工单分组。若不想要管理员设置的初始化分组， 可以进行停用。

![ITSM手册图片220.png](https://static.cwoa.net/a71bc214403b4313ac814a3d71c6e72b.png)
