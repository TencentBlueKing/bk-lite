---
sidebar_position: 1
---

# 功能介绍

## 快速入门

### 第一步：探针配置

#### 选择控制器

平台为用户提供Windows和Linux两种系统的控制器，控制器包含SIdecar和Nats Executor，组合使用。用户可查看各个控制器当前安装包的版本和最新状态。
![节点管理1.png](https://static.cwoa.net/39f35fb6ad6649d7ad647d67e875a319.png)
![节点管理2.png](https://static.cwoa.net/cd242fe003d442138ae00c73f00fc8b3.png)

#### 配置采集器

采集器平台提供初始采集器，用户可根据需求新建采集器，上传对应安装包即可。提供版本记录更新，用户可查看历史记录，支持删除过往上传的包。
![节点管理3.png](https://static.cwoa.net/fa8624089f0244959254b82f7026d449.png)
![节点管理4.png](https://static.cwoa.net/53baff5519da4245aab9ce0966bc66da.png)

用户可以通过修改执行文件路径、执行参数来修改采集器安装位置。
![节点管理5.png](https://static.cwoa.net/f188f6b39f954a748822fc70e623be11.png)

### 第二步：节点安装探针

#### 选择云区域

为分布在不同城市区域的办公地点提供云区域设置，单一区域的使用默认云区域即可。
![节点管理6.png](https://static.cwoa.net/617011595f59467285865fb505fe733f.png)

#### 安装控制器

在云区域中，可为各种设备安装控制器，用于管理各种采集器获取数据，将数据传输到监控平台等应用处。
![节点管理7.png](https://static.cwoa.net/01119528a29a4c58a816e0363264f7dc.png)

- 控制器提供两种安装方法：
  - **远程安装**：提供主机相关登录信息后，平台远程将控制器安装包安装到对应设备中，无需多余操作；
  - **手动安装**：在需要安装控制器的设备中，选择适用的版本下载控制器安装包和配置文件模板后，执行平台给出的代码进行安装，如果安装成功，可在节点列表中查看控制器正常的节点。
![节点管理8.png](https://static.cwoa.net/57bca7ecf0a845c59dc2737f04e08e54.png)
![节点管理9.png](https://static.cwoa.net/0f7fc98bd2d34469a6681dcb29fc75a2.png)

#### 安装采集器

安装好控制器以后，选择要采集的设备对应的控制器，可以为其安装采集器，采集器配置在探针模块中已设定好，选择需要的采集器即可。
![节点管理10.png](https://static.cwoa.net/428a44ae0a1945c59b7aa0cda520e85c.png)
![节点管理11.png](https://static.cwoa.net/197ba9076a4147a5b108ff27c65aee6f.png)

支持对采集器进行开启、重启、卸载。
![节点管理12.png](https://static.cwoa.net/a83a72f6db504c56a4ee98c4035c240b.png)
![节点管理13.png](https://static.cwoa.net/2dcf2fc1e03248e18d9303d1f57d0098.png)

### 第三步：配置采集参数

采集的基础配置文件在“开启采集器”成功后会自动添加在配置管理的表格中，其子配置文件（采集的资产类型等）在其他APP下发采集的时候自动同步添加到子配置列表中，用户可查看具体配置信息，有必要可对其进行微调，配置文件双向同步更新。

![节点管理14.png](https://static.cwoa.net/43ac8b8a6861420685b223d375fe5b66.png)
![节点管理15.png](https://static.cwoa.net/f3ac896c002740e8b69e49c68cfce9ca.png)
![节点管理16.png](https://static.cwoa.net/bb2f623197f94a7abc155ed4e2fc25c7.png)

### 第四步：常用变量配置

用户可为配置文件常用、通用的一些数据设置变量，避免反复配置。比如：账户信息，通用一套的时候可以为其创建变量赋值，在写配置文件时可以直接使用该变量。
![节点管理17.png](https://static.cwoa.net/04a695e9179342b3b1a251d8bf984e03.png)

第三、四步，属于对采集信息的微调，在第二步安装并开启采集器之后，正常情况下已经可以结束操作。力求让用户简单快速上手。

## 功能模块介绍

### 探针

#### 控制器

- 平台为用户提供Windows和Linux两种系统的控制器，控制器不允许用户新增，由官方内置。
- 控制器包含SIdecar和Nats Executor，两者组合使用的效果最优。官方提供安装包的维修、检查、更新等。
- 用户可查看各个控制器当前安装包的版本和最新状态，了解控制器的最新情况，异常可向官方反馈。
![节点管理18.png](https://static.cwoa.net/0aebf8f51f4d439790e674cfae440f53.png)
![节点管理19.png](https://static.cwoa.net/b44a5ce804914db8809d3c4ad4d82dd0.png)

#### 采集器

##### 基本信息

- 采集器由平台提供初始采集器，用户可根据需求新建采集器，上传对应安装包即可。
- 提供版本记录更新，用户可查看历史记录，支持删除过往上传的包。
- 支持通过系统类型筛选采集器，方便windows和linux系统用户快速找到适用的采集器。
![节点管理20.png](https://static.cwoa.net/22191ae49722461fbd9d12ab6793df6d.png)
![节点管理21.png](https://static.cwoa.net/024a266867944310bcff211e4d5d5cf4.png)

##### 采集器操作

- 采集器支持新增、编辑和删除
  - 新增：用户可填写名称描述，为要新增的采集器选择操作系统，填写执行路径和执行参数，在完成新增后上传包完成新增采集器的全流程。
  - 编辑：内置Telegraf、Vector两类采集器，不允许修改设定好的操作系统，但可以修改执行路径和参数。用户自己新增的无限制。
  - 删除：允许用户删除采集器，一次弹窗确认要删除的采集器信息，二次弹窗确定删除意向，防止误删。
    ![节点管理22.png](https://static.cwoa.net/75f573020f4e413c975cf4f35b0cc078.png)
    ![节点管理23.png](https://static.cwoa.net/adcd1dc2d0b3449c9d3df7f714f2da15.png)
    ![节点管理24.png](https://static.cwoa.net/54bb71f4729349a4b76c032ac1001ae5.png)

### 云区域

#### 云区域配置

为分布在不同城市区域的办公地点提供云区域设置，单一区域的使用默认云区域即可。
![节点管理25.png](https://static.cwoa.net/8ae3e3951b3046ff8e034a5c8927f923.png)

#### 节点

##### 控制器安装

在云区域中，可为各种设备安装控制器，用于管理各种采集器获取数据，将数据传输到监控平台等应用处。控制器、采集器都配置好后，节点采集管理情况可同步在监控中心资产管理中查看。
![节点管理26.png](https://static.cwoa.net/ead46e6b9bb44ad9b4e4969b19d46c23.png)

- 控制器提供两种安装方法：
  
  **远程安装**：提供主机相关登录信息后，平台远程将控制器安装包安装到对应设备中，无需多余操作；
  - 安装包的推送：使用默认节点进行，需要选择nas excutor状态正常的节点。
  - Sidecar版本：控制器可能有多个版本，选择与当前设备系统适配、功能符合需求的版本进行安装，具体版本信息可在探针-控制器中查看。
  - IP地址：设备的Ip地址，可在电脑的属性中查询。
  - 所属分组：根据用户账户决定，分组信息关联WeOps X的系统管理中的分组。
  - 端口、账号、密码：个人信息。

**手动安装**：
        - 在需要安装控制器的设备中，选择适用的版本下载控制器安装包和配置文件模板；
        - 在设备的命令窗口中执行平台给出的代码进行安装；
        - 如果安装成功，可在节点列表中查看控制器正常的节点。
        ![节点管理27.png](https://static.cwoa.net/61280c2104ea4d19aa4e2c2eee3f9d81.png)
        ![节点管理28.png](https://static.cwoa.net/716355e3127b4a7097b965920f71792d.png)

##### 控制器卸载

支持卸载已安装的控制器，选择好要卸载的节点后，弹窗显示当前节点的Ip地址，输入登录端口、账号、密码，二次确认删除后即可远程卸载。
![节点管理29.png](https://static.cwoa.net/0970598ba09f4e3db53f09c7d4858c6b.png)
![节点管理30.png](https://static.cwoa.net/013443ddbf65498799d27ae8cd327a09.png)

##### 采集器管理

安装好控制器以后，选择要采集的设备对应的控制器，可以为其安装采集器，采集器安装包在探针模块中已设定好，选择需要的采集器即可。

##### 采集器状态和操作

采集器状态说明如下：未安装——灰色，安装中——蓝色，已安装、正常——绿色，安装失败、异常——红色，已停止——橙色。
![节点管理31.png](https://static.cwoa.net/060e9df2205d41078c7faed8a0c7bef3.png)

![节点管理32.png](https://static.cwoa.net/cad0fd549cb94bfa876be33b6f029a10.png)

- 支持对采集器进行开启、重启、卸载。
  - 安装采集器：只是在设备中安装好了采集进程，进程中仍然是空的；
  - 开启采集器：运行配置文件，真正决定要采集什么数据（如： mysql、oracle等等），配置文件与监控中心中的数据同源，新增、修改、删除双向同步更新。
    - 开启Telegraf探针时，自动初始化并绑定对应配置文件，后续如需修改，请前往“配置列表”中修改。
    - 其他类型的采集器，开启的时候，要选择一个配置文件进行
  - 配置文件的配置包含两部分：
    - 基础配置：账户信息、端口号等；
    - 子配置：采集的具体内容，资产类型、资产指标等。
        ![节点管理33.png](https://static.cwoa.net/619058981aa24d658026266fb36f2538.png)
        ![节点管理34.png](https://static.cwoa.net/7e8c63e0330e452b883262fc73befd4b.png)

#### 配置

- **配置文件列表**：展示所有节点下所有探针的配置文件，包括名称、使用了该配置文件的节点、操作系统、探针类型。
![节点管理35.png](https://static.cwoa.net/52a13c41a428450d86433e97b5697362.png)

- **新增配置文件**：支持两种新增方式——
  - 自动创建：开启采集器时，自动创建选择的采集器的配置文件；
  - 手动创建：填写名称，选择对应采集器和操作系统（Windows和Linux）版本，填写配置文件内容，进行配置文件的新增
    ![节点管理36.png](https://static.cwoa.net/9851712525674ab6ba15493c5d81ce86.png)

- **编辑配置文件**：直接在节点的配置列表中修改或者在其它APP的配置中修改，两边都会同步更新。不能修改配置文件的操作系统和探针。
![节点管理37.png](https://static.cwoa.net/62c050e8c6f44c17a9086b3b1321ca47.png)

- **删除配置文件**
  - 对于开启采集器时自动创建的配置文件：不支持手动删除，当节点卸载了对应的探针，探针下的配置文件都自动删除（如卸载telegraf采集器，其初始配置+子配置自动删除）。
  - 在配置文件列表手动添加的自定义配置文件：可以手动在列表中操作删除
    ![节点管理38.png](https://static.cwoa.net/838e325e59cb47a89ed564146349ef0f.png)

- **子配置文件**：决定采集什么对象的什么数据
  - 编辑：可以编辑配置内容，不允许修改采集类型和配置类型。
  - 新增——不支持手动新增，其他APP下发采集的时候，填写的配置文件自动同步在子配置文件列表中进行创建
  - 删除——不支持手动删除，其他APP删除了某一个采集，对应的子配置文件就会自动删除
    ![节点管理39.png](https://static.cwoa.net/3d072ec9327c4afcb59042f214839a95.png)
    ![节点管理40.png](https://static.cwoa.net/aab8504d68194befb945366e7bdde64f.png)

#### 变量

用户可为配置文件常用、通用的一些数据设置变量，避免反复配置。比如：账户信息，通用一套的时候可以为其创建变量赋值，在编写、修改配置文件时可以直接使用该变量。
![节点管理41.png](https://static.cwoa.net/1b2fee18ee874b6498268315798b3c93.png)
