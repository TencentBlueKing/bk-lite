{
  "plugin": "ActiveMQ",
  "plugin_desc": "Used for collecting ActiveMQ topic-related metrics, enabling real-time monitoring of consumer count, enqueue/dequeue rates, and topic message backlog to ensure stable message queue operation.",
  "status_query": "any({instance_type='activemq', collect_type='middleware'}) by (instance_id)",
  "name": "ActiveMQ",
  "icon": "02_ActiveMQ",
  "type": "Middleware",
  "description": "",
  "default_metric": "any({instance_type='activemq'}) by (instance_id)",
  "instance_id_keys": ["instance_id"],
  "supplementary_indicators": ["activemq_topics_consumer_count", "activemq_topics_enqueue_count", "activemq_topics_size"],
  "metrics": [
    {
      "metric_group": "Topic",
      "name": "topics_consumer_count",
      "display_name": "Topic Consumer Count",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Current number of consumer connections for a specific topic, reflecting message consumption capacity",
      "query": "activemq_topics_consumer_count{__$labels__}"
    },
    {
      "metric_group": "Topic",
      "name": "topics_dequeue_count",
      "display_name": "Topic Dequeue Count",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Total number of messages dequeued from a specific topic, reflecting processed message volume",
      "query": "activemq_topics_dequeue_count{__$labels__}"
    },
    {
      "metric_group": "Topic",
      "name": "topics_enqueue_count",
      "display_name": "Topic Enqueue Count",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Total number of messages enqueued to a specific topic, reflecting received message volume",
      "query": "activemq_topics_enqueue_count{__$labels__}"
    },
    {
      "metric_group": "Topic",
      "name": "topics_size",
      "display_name": "Topic Current Size",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Current number of messages stored in a specific topic, reflecting backlog status",
      "query": "activemq_topics_size{__$labels__}"
    }
  ]
}