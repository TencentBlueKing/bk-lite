{
  "plugin": "Website",
  "plugin_desc": "The purpose of the website monitoring plugin is to periodically check the availability and performance of HTTP/HTTPS connections.",
  "status_query": "any({instance_type='web', collect_type='web'}) by (instance_id)",
  "name": "Website",
  "icon": "wangzhan1",
  "type": "Web",
  "description": "",
  "default_metric": "any({instance_type='web'}) by (instance_id)",
  "instance_id_keys": ["instance_id"],
  "supplementary_indicators": ["http_node_success_rate", "http_response_response_time", "http_response_http_response_code"],
  "metrics": [
    {
      "metric_group": "HTTP",
      "name": "http_node_success_rate",
      "query": "count_over_time(http_response_result_type{result=\"success\",__$labels__}[5m]) / count_over_time(http_response_result_type{__$labels__}[5m]) * 100",
      "display_name": "Node Success Rate",
      "data_type": "Number",
      "unit": "percent",
      "dimensions": [
        {
          "name": "agent_id",
          "description": "agent_id"
        }
      ],
      "instance_id_keys": ["instance_id"],
      "description": "Calculate the 5-minute probe success rate for each probing node, reflecting the access experience in a specific region or network environment."
    },
    {
      "metric_group": "HTTP",
      "name": "http_response_response_time",
      "query": "http_response_response_time{__$labels__}",
      "display_name": "Response Time",
      "data_type": "Number",
      "unit": "s",
      "dimensions": [
        {
          "name": "agent_id",
          "description": "agent_id"
        }
      ],
      "instance_id_keys": ["instance_id"],
      "description": "Represents the total time taken from initiating an HTTP request to receiving the HTTP response. It is used to assess the performance of web services, especially when handling user requests."
    },
    {
      "metric_group": "HTTP",
      "name": "http_response_http_response_code",
      "query": "http_response_http_response_code{__$labels__}",
      "display_name": "HTTP Code",
      "data_type": "Number",
      "unit": "none",
      "dimensions": [
        {
          "name": "agent_id",
          "description": "agent_id"
        }
      ],
      "instance_id_keys": ["instance_id"],
      "description": "This metric represents the HTTP response status code for an HTTP request. It captures the value of the HTTP response status codes, such as 200 (OK), 404 (Not Found), 500 (Internal Server Error), etc."
    },
    {
      "metric_group": "HTTP",
      "name": "http_response_content_length",
      "query": "http_response_content_length{__$labels__}",
      "display_name": "HTTP Content Length",
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [
        {
          "name": "agent_id",
          "description": "agent_id"
        }
      ],
      "instance_id_keys": ["instance_id"],
      "description": "This metric indicates the length of the HTTP. Larger content lengths can result in extended data transfer times and consume more bandwidth."
    }
  ]
}
