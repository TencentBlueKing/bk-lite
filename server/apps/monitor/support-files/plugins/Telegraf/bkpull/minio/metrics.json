{
  "plugin": "Minio",
  "plugin_desc": "Collects key metrics of the Minio object storage system, including runtime status, storage capacity, usage, replication, inter-node communication, and S3 requests, enabling real-time monitoring of storage health, performance optimization, and anomaly detection.",
  "status_query": "any({instance_type='minio', collect_type='bkpull'}) by (instance_id)",
  "name": "Minio",
  "icon": "minio",
  "type": "Middleware",
  "description": "",
  "default_metric": "any({instance_type='minio'}) by (instance_id)",
  "instance_id_keys": ["instance_id"],
  "supplementary_indicators": ["minio_cluster_capacity_usable_free_bytes_gauge", "minio_cluster_drive_online_total_gauge", "minio_cluster_health_status_gauge"],
  "metrics": [
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_capacity_usable_total_bytes_gauge",
      "display_name": "Cluster Usable Total Capacity",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [],
      "description": "Total usable logical storage capacity after erasure coding, reflecting storage resource scale after redundancy",
      "query": "minio_cluster_capacity_usable_total_bytes_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_capacity_usable_free_bytes_gauge",
      "display_name": "Cluster Usable Free Capacity",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [],
      "description": "Available logical storage capacity of the cluster, used for monitoring usage and predicting storage needs",
      "query": "minio_cluster_capacity_usable_free_bytes_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_drive_online_total_gauge",
      "display_name": "Online Drives Count",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of currently online and available storage drives, indicating storage hardware availability",
      "query": "minio_cluster_drive_online_total_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_nodes_online_total_gauge",
      "display_name": "Online Nodes Count",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of currently online server nodes, affecting cluster processing capacity and fault tolerance",
      "query": "minio_cluster_nodes_online_total_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_health_status_gauge",
      "display_name": "Cluster Health Status",
      "instance_id_keys": ["instance_id"],
      "data_type": "Enum",
      "unit": "[{\"name\":\"不健康\",\"id\":0,\"color\":\"#ff4d4f\"},{\"name\":\"健康\",\"id\":1,\"color\":\"#1ac44a\"}]",
      "dimensions": [],
      "description": "Overall cluster health status, 1 indicates healthy, 0 indicates unhealthy, providing quick overview of cluster status",
      "query": "minio_cluster_health_status_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_health_erasure_set_status_gauge",
      "display_name": "Erasure Set Status",
      "instance_id_keys": ["instance_id"],
      "data_type": "Enum",
      "unit": "[{\"name\":\"不正常\",\"id\":0,\"color\":\"#ff4d4f\"},{\"name\":\"正常\",\"id\":1,\"color\":\"#1ac44a\"}]",
      "dimensions": [],
      "description": "Erasure set status (1=healthy), indicating data redundancy set health and directly affecting data security",
      "query": "minio_cluster_health_erasure_set_status_gauge{__$labels__}"
    },
    {
      "metric_group": "Cluster Monitoring",
      "name": "minio_cluster_health_erasure_set_online_drives_gauge",
      "display_name": "Erasure Set Online Drives",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of online drives in erasure set, affecting data availability and redundancy, ensuring redundancy strategy effectiveness",
      "query": "minio_cluster_health_erasure_set_online_drives_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_cpu_avg_load1_gauge",
      "display_name": "Node 1-minute Average Load",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Average system load over last 1 minute, indicating short-term CPU pressure and performance stress",
      "query": "minio_node_cpu_avg_load1_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_cpu_avg_idle_gauge",
      "display_name": "Node CPU Idle Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "percent",
      "dimensions": [],
      "description": "Percentage of CPU idle time, indicating CPU utilization, low idle rate may indicate CPU bottleneck",
      "query": "minio_node_cpu_avg_idle_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_mem_used_perc_gauge",
      "display_name": "Node Memory Usage Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "percent",
      "dimensions": [],
      "description": "Percentage of memory used, indicating memory pressure, high usage may cause performance degradation",
      "query": "minio_node_mem_used_perc_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_drive_perc_util_gauge",
      "display_name": "Drive Utilization Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "percent",
      "dimensions": [],
      "description": "Utilization percentage of single drive, reflecting storage space usage, important for capacity planning",
      "query": "minio_node_drive_perc_util_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_drive_reads_per_sec_gauge",
      "display_name": "Drive Reads Per Second",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of read operations per second on single drive, reflecting read performance and workload",
      "query": "minio_node_drive_reads_per_sec_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_drive_writes_per_sec_gauge",
      "display_name": "Drive Writes Per Second",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of write operations per second on single drive, reflecting write performance and workload",
      "query": "minio_node_drive_writes_per_sec_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_if_rx_bytes_gauge",
      "display_name": "Network Interface Receive Bytes",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [],
      "description": "Received data bytes on network interface, reflecting network inflow, monitoring bandwidth usage",
      "query": "minio_node_if_rx_bytes_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_if_tx_bytes_gauge",
      "display_name": "Network Interface Transmit Bytes",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [],
      "description": "Transmitted data bytes on network interface, reflecting network outflow, monitoring bandwidth usage",
      "query": "minio_node_if_tx_bytes_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_process_uptime_seconds_gauge",
      "display_name": "Process Uptime",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "s",
      "dimensions": [],
      "description": "Seconds MinIO process has been running, indicating stability, long uptime indicates stability, frequent restarts may indicate issues",
      "query": "minio_node_process_uptime_seconds_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_process_cpu_total_seconds_counter_rate",
      "display_name": "Process CPU Usage Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "cps",
      "dimensions": [],
      "description": "CPU time consumed per second by MinIO process, reflecting real-time CPU resource consumption",
      "query": "rate(minio_node_process_cpu_total_seconds_counter[5m])"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_process_resident_memory_bytes_gauge",
      "display_name": "Process Resident Memory",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "bytes",
      "dimensions": [],
      "description": "Resident memory size occupied by MinIO process, reflecting memory usage, monitoring memory leaks",
      "query": "minio_node_process_resident_memory_bytes_gauge{__$labels__}"
    },
    {
      "metric_group": "Resource Monitoring",
      "name": "minio_node_go_routine_total_gauge",
      "display_name": "Go Routines Total",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Current number of Go routines in MinIO process, reflecting concurrency capacity, abnormal increase may indicate issues",
      "query": "minio_node_go_routine_total_gauge{__$labels__}"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_s3_requests_incoming_total_gauge",
      "display_name": "Current Incoming S3 Requests",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of incoming S3 API requests currently being processed, reflecting current S3 service load",
      "query": "minio_s3_requests_incoming_total_gauge{__$labels__}"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_s3_requests_waiting_total_gauge",
      "display_name": "Waiting S3 Requests",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "counts",
      "dimensions": [],
      "description": "Number of S3 API requests currently waiting for processing, reflecting S3 service queue backlog",
      "query": "minio_s3_requests_waiting_total_gauge{__$labels__}"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_s3_traffic_received_bytes_counter_rate",
      "display_name": "S3 Received Traffic Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "byteps",
      "dimensions": [],
      "description": "Data traffic received per second by S3 service, reflecting upload rate and network inflow bandwidth usage",
      "query": "rate(minio_s3_traffic_received_bytes_counter{__$labels__}[5m])"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_s3_traffic_sent_bytes_counter_rate",
      "display_name": "S3 Sent Traffic Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "byteps",
      "dimensions": [],
      "description": "Data traffic sent per second by S3 service, reflecting download rate and network outflow bandwidth usage",
      "query": "rate(minio_s3_traffic_sent_bytes_counter{__$labels__}[5m])"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_s3_requests_rejected_auth_total_counter_rate",
      "display_name": "Auth Rejected S3 Requests Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "cps",
      "dimensions": [],
      "description": "Number of S3 requests rejected per second due to authentication failure, reflecting authentication failure frequency and security status",
      "query": "rate(minio_s3_requests_rejected_auth_total_counter{__$labels__}[5m])"
    },
    {
      "metric_group": "S3 Service Monitoring",
      "name": "minio_node_scanner_objects_scanned_counter_rate",
      "display_name": "Objects Scan Rate",
      "instance_id_keys": ["instance_id"],
      "data_type": "Number",
      "unit": "cps",
      "dimensions": [],
      "description": "Number of objects scanned per second by scanner, reflecting efficiency of storage system internal maintenance activities",
      "query": "rate(minio_node_scanner_objects_scanned_counter{__$labels__}[5m])"
    }
  ]
}
