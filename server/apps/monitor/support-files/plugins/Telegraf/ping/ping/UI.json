{
  "object_name": "Ping",
  "instance_type": "ping",
  "collect_type": "ping",
  "config_type": ["ping"],
  "collector": "Telegraf",
  "instance_id": "{{instance_type}}_{{url}}",
  "form_fields": [
    {
      "name": "monitor_url",
      "label": "URL",
      "type": "input",
      "required": true,
      "visible_in": "edit",
      "editable": false,
      "description": "监控的目标网址链接，以检测其可用性和性能。",
      "widget_props": {
        "placeholder": "example.com"
      },
      "transform_on_edit": {
        "origin_path": "child.content.config.urls[0]"
      }
    },
    {
      "name": "interval",
      "label": "间隔",
      "type": "inputNumber",
      "required": true,
      "default_value": 10,
      "description": "监控数据的采集时间间隔（单位：秒）",
      "widget_props": {
        "min": 1,
        "precision": 0,
        "placeholder": "间隔",
        "addonAfter": "s"
      },
      "transform_on_edit": {
        "origin_path": "child.content.config.interval",
        "to_form": {
          "regex": "^(\\d+)s$"
        },
        "to_api": {
          "suffix": "s"
        }
      }
    }
  ],
  "table_columns": [
    {
      "name": "node_ids",
      "label": "节点",
      "type": "select",
      "required": true,
      "widget_props": {
        "placeholder": "请选择节点"
      },
      "enable_row_filter": true
    },
    {
      "name": "url",
      "label": "URL",
      "type": "input",
      "required": true,
      "widget_props": {
        "placeholder": "192.168.1.1"
      },
      "rules": [
        {
          "type": "pattern",
          "pattern": "^([a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$|^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",
          "message": "请输入有效的域名或IP地址",
          "excel_formula": "OR(ISNUMBER(FIND(\".\",{{CELL}})),AND(LEN({{CELL}})>=7,LEN({{CELL}})<=253))"
        }
      ],
      "change_handler": {
        "type": "simple",
        "source_fields": ["url"],
        "target_field": "instance_name"
      }
    },
    {
      "name": "instance_name",
      "label": "实例名称",
      "type": "input",
      "required": true,
      "widget_props": {
        "placeholder": "实例名称",
        "disabled": false
      }
    },
    {
      "name": "group_ids",
      "label": "组",
      "type": "group_select",
      "required": false,
      "widget_props": {
        "placeholder": "请选择组"
      }
    }
  ]
}
