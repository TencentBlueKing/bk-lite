# Packetbeat DNS 协议配置说明

## 概述

DNS 协议模块用于监控 DNS 查询和响应，帮助分析网络流量中的域名解析行为，支持安全审计和性能分析。

## 配置参数

### 核心配置（官网推荐默认值）

以下参数已采用官网推荐的最佳实践，无需用户配置：

| 参数 | 默认值 | 说明 |
|------|-------|------|
| `include_authorities` | `true` | 包含权威记录信息 |
| `include_additionals` | `true` | 包含附加记录信息 |
| `transaction_timeout` | `10s` | DNS 事务超时时间 |

### 用户可配置参数

#### 1. 网络配置

##### `ports` (可选)
- **类型**: `list[int]`
- **默认值**: `[53]`
- **说明**: 监控的 DNS 端口列表
- **示例**:
```yaml
ports: [53, 5353]  # 标准 DNS + mDNS
```

#### 2. 实例标识

##### `instance_id` (必需)
- **类型**: `string`
- **说明**: 实例唯一标识，用于区分不同的采集实例
- **示例**:
```yaml
instance_id: "dns-server-01"
```

## 配置示例

### 基础配置
```yaml
instance_id: "internal-dns"
```

### 多端口配置
```yaml
ports: [53, 5353, 8053]
instance_id: "dns-cluster"
```

## 注意事项

1. **端口选择**: 通常只需监控标准 DNS 端口 53
2. **性能影响**: DNS 查询频繁，建议合理配置采样率
3. **隐私考虑**: DNS 查询可能包含敏感域名信息，注意数据保护
