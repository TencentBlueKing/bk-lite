### Vector k8s Overview

- **Core Functions**
  - Collect Pod container logs
  - Automatically parse log fields
  - Attach Kubernetes metadata
  - Support multi-source and multi-target forwarding
  - Provide structured log output

- **Key Features**
  - Lightweight and high-performance
  - Low resource consumption
  - Flexible plugin-based extensions

### Vector k8s Output Fields


| Field Name | Type | Description | Example Value |
|--------|------|------|--------|
| file | required、string、literal | Absolute path of the log source file, used to identify the specific container log file corresponding to this log line. Usually includes Pod namespace, name, and UID in the path. | /var/log/pods/pod-namespace_pod-name_pod-uid/container/1.log |
| kubernetes.container_id | optional、string、literal | Unique ID generated by the container runtime, used to distinguish different container instances. Usually includes runtime prefix (e.g., docker://). | docker://f24c81dcd531c5d353751c77fe0556a4f602f7714c72b9a58f9b26c0628f1fa6 |
| kubernetes.container_image | optional、string、literal | Container image name and version tag, used to identify the image source. | busybox:1.30 |
| kubernetes.container_image_id | optional、string、literal | Unique ID of the container image, usually represented as image digest, more precise than image name. | busybox@sha256:1e7b63c09af457b93c17d25ef4e6aee96b5bb95f087840cffd7c4bb2fe8ae5c6 |
| kubernetes.container_name | optional、string、literal | Logical name of the container, used to distinguish different containers within the same Pod. | coredns |
| kubernetes.namespace_labels | optional、object | Set of labels attached to the Namespace, usually used for grouping, selection, and resource management. | { "mylabel": "myvalue" } |
| kubernetes.pod_annotations | optional、object | Collection of annotations on the Pod, usually used to store auxiliary, non-identifying information. | { "myannotation": "myvalue" } |
| kubernetes.pod_ip | optional、string、literal | IPv4 address assigned to the Pod for inter-service communication. | 192.168.1.1 |
| kubernetes.pod_ips | optional、string、literal | List of Pod IP addresses, may include both IPv4 and IPv6. | 192.168.1.1, ::1 |
| kubernetes.pod_labels | optional、object | Set of labels attached to the Pod, commonly used for service discovery, selector matching, and policy control. | { "mylabel": "myvalue" } |
| kubernetes.pod_name | optional、string、literal | Unique name of the Pod, defined by system or user, used to distinguish different Pods. | coredns-qwertyuiop-qwert |
| kubernetes.pod_namespace | optional、string、literal | Namespace to which the Pod belongs, used for logical isolation of Kubernetes resources. | kube-system |
| kubernetes.pod_node_name | optional、string、literal | Name of the node where the Pod actually runs, helps locate the physical/virtual machine source of the logs. | minikube |
| kubernetes.pod_owner | optional、string、literal | Owner object of the Pod (e.g., ReplicaSet, Deployment), used to track the relationship between controllers and Pods. | ReplicaSet/coredns-565d847f94 |
| kubernetes.pod_uid | optional、string、literal | Unique UID of the Pod, automatically assigned by Kubernetes, used to uniquely identify Pod instances. | ba46d8c9-9541-4f6b-bbf9-d23b36f2f136 |
| message | required、string、literal | Raw content of Pod logs, representing a line of log data from container stdout or stderr. | 53.126.150.246 - - [01/Oct/2020:11:25:58 -0400] "GET /disintermediate HTTP/2.0" 401 20308 |
| source_type | required、string、literal | Type identifier of the log source, used to distinguish different collectors or data sources. | kubernetes_logs |
| stream | required、string、literal | Name of the log output stream, usually container's stdout or stderr. | stdout / stderr |
| timestamp | required、timestamp | Precise timestamp when Kubernetes processed the log event, usually used for log sorting and time series analysis. | 2020-10-10T17:07:36.452332Z |


### Vector k8s Output Example

```json
{
"file": "/var/log/pods/kube-system_storage-provisioner_93bde4d0-9731-4785-a80e-cd27ba8ad7c2/storage-provisioner/1.log",
  "kubernetes.container_image": "gcr.io/k8s-minikube/storage-provisioner:v3",
  "kubernetes.container_name": "storage-provisioner",
  "kubernetes.namespace_labels": {
    "kubernetes.io/metadata.name": "kube-system"
  },
  "kubernetes.pod_annotations": {
    "prometheus.io/scrape": "false"
  },
  "kubernetes.pod_ip": "192.168.1.1",
  "kubernetes.pod_ips": [
    "192.168.1.1",
    "::1"
  ],
  "kubernetes.pod_labels": {
    "addonmanager.kubernetes.io/mode": "Reconcile",
    "gcp-auth-skip-secret": "true",
    "integration-test": "storage-provisioner"
  },
  "kubernetes.pod_name": "storage-provisioner",
  "kubernetes.pod_namespace": "kube-system",
  "kubernetes.pod_node_name": "minikube",
  "kubernetes.pod_uid": "93bde4d0-9731-4785-a80e-cd27ba8ad7c2",
  "message": "F1015 11:01:46.499073       1 main.go:39] error getting server version: Get \"https://10.96.0.1:443/version?timeout=32s\": dial tcp 10.96.0.1:443: connect: network is unreachable",
  "source_type": "kubernetes_logs",
  "stream": "stderr",
  "timestamp": "2020-10-15T11:01:46.499555308Z"
}
